{
  super.onPrepareOptionsMenu(menu);
  try {
    boolean visible=waypoint != null && waypoint.getCoords() != null;
    menu.findItem(MENU_ID_NAVIGATION).setVisible(visible);
    menu.findItem(MENU_ID_DEFAULT_NAVIGATION).setVisible(visible);
    menu.findItem(MENU_ID_CACHES_AROUND).setVisible(visible);
    boolean openGeocache=StringUtils.isEmpty(geocode) && !StringUtils.isEmpty(waypoint.getGeocode());
    menu.findItem(MENU_ID_OPEN_GEOCACHE).setVisible(openGeocache);
  }
 catch (  Exception e) {
  }
  return true;
}
