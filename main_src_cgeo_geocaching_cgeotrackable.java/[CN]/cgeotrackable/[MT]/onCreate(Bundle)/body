{
  super.onCreate(savedInstanceState);
  setTheme();
  setContentView(R.layout.trackable_detail);
  setTitle(res.getString(R.string.trackable));
  Bundle extras=getIntent().getExtras();
  Uri uri=getIntent().getData();
  if (extras != null) {
    geocode=extras.getString("geocode");
    name=extras.getString("name");
    guid=extras.getString("guid");
    id=extras.getString("id");
  }
  if (geocode == null && guid == null && id == null && uri != null) {
    String uriHost=uri.getHost().toLowerCase();
    if (uriHost.contains("geocaching.com")) {
      geocode=uri.getQueryParameter("tracker");
      guid=uri.getQueryParameter("guid");
      id=uri.getQueryParameter("id");
      if (StringUtils.isNotBlank(geocode)) {
        geocode=geocode.toUpperCase();
        guid=null;
        id=null;
      }
 else       if (StringUtils.isNotBlank(guid)) {
        geocode=null;
        guid=guid.toLowerCase();
        id=null;
      }
 else       if (StringUtils.isNotBlank(id)) {
        geocode=null;
        guid=null;
        id=id.toLowerCase();
      }
 else {
        showToast(res.getString(R.string.err_tb_details_open));
        finish();
        return;
      }
    }
 else     if (uriHost.contains("coord.info")) {
      String uriPath=uri.getPath().toLowerCase();
      if (uriPath != null && uriPath.startsWith("/tb")) {
        geocode=uriPath.substring(1).toUpperCase();
        guid=null;
        id=null;
      }
 else {
        showToast(res.getString(R.string.err_tb_details_open));
        finish();
        return;
      }
    }
  }
  if (geocode == null && guid == null && id == null) {
    showToast(res.getString(R.string.err_tb_display));
    finish();
    return;
  }
  String message;
  if (StringUtils.isNotBlank(name)) {
    message=Html.fromHtml(name).toString();
  }
 else   if (StringUtils.isNotBlank(geocode)) {
    message=geocode.toUpperCase();
  }
 else {
    message=res.getString(R.string.trackable);
  }
  waitDialog=ProgressDialog.show(this,message,res.getString(R.string.trackable_details_loading),true,true);
  loadTrackable thread=new loadTrackable(loadTrackableHandler,geocode,guid,id);
  thread.start();
}
