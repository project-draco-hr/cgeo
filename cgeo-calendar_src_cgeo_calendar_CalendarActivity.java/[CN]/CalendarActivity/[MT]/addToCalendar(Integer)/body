{
  try {
    final Uri calendarProvider=Compatibility.getCalendarEventsProviderURI();
    final Date eventDate=parseDate();
    final String description=parseDescription();
    final String location=parseLocation();
    final ContentValues event=new ContentValues();
    event.put("calendar_id",calendarId);
    event.put("dtstart",eventDate.getTime() + 43200000);
    event.put("dtend",eventDate.getTime() + 43200000 + 3600000);
    event.put("eventTimezone","UTC");
    event.put("title",Html.fromHtml(name).toString());
    event.put("description",description);
    if (location.length() > 0) {
      event.put("eventLocation",location);
    }
    event.put("allDay",1);
    event.put("hasAlarm",0);
    getContentResolver().insert(calendarProvider,event);
    showToast(getResources().getString(R.string.event_success));
  }
 catch (  Exception e) {
    showToast(getResources().getString(R.string.event_fail));
    Log.e(LOG_TAG,"CalendarActivity.addToCalendarFn",e);
  }
}
