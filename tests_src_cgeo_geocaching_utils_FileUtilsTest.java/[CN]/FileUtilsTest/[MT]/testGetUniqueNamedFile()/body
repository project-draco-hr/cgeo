{
  FileUtils.deleteDirectory(testDir);
  assertThat(testDir.mkdirs()).isTrue();
  try {
    assertThat(FileUtils.getUniqueNamedFile(baseFile)).isEqualTo(baseFile);
    assertThat(baseFile.createNewFile()).isTrue();
    assertThat(FileUtils.getUniqueNamedFile(baseFile)).isEqualTo(alternative1);
    alternative1.createNewFile();
    assertThat(FileUtils.getUniqueNamedFile(baseFile)).isEqualTo(alternative2);
    assertThat(FileUtils.getUniqueNamedFile(baseFile)).isEqualTo(alternative2);
  }
  finally {
    FileUtils.deleteDirectory(testDir);
  }
}
