{
  String geocode=ConnectorFactory.getGeocodeFromURL(query);
  if (StringUtils.isEmpty(geocode)) {
    geocode=StringUtils.trim(query);
  }
  final IConnector connector=ConnectorFactory.getConnector(geocode);
  if (connector instanceof ISearchByGeocode) {
    final Intent cachesIntent=new Intent(this,CacheDetailActivity.class);
    cachesIntent.putExtra(Intents.EXTRA_GEOCODE,geocode.toUpperCase(Locale.US));
    startActivity(cachesIntent);
    return true;
  }
  final String trackable=TextUtils.getMatch(query,GCConstants.PATTERN_TB_CODE,true,0,"",false);
  if (StringUtils.isNotBlank(trackable)) {
    final Intent trackablesIntent=new Intent(this,TrackableActivity.class);
    trackablesIntent.putExtra(Intents.EXTRA_GEOCODE,trackable.toUpperCase(Locale.US));
    startActivity(trackablesIntent);
    return true;
  }
  if (keywordSearch) {
    cgeocaches.startActivityKeyword(this,query.trim());
    return true;
  }
  return false;
}
