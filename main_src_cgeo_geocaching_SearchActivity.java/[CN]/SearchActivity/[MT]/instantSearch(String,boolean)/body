{
  String geocode=ConnectorFactory.getGeocodeFromURL(query);
  if (StringUtils.isEmpty(geocode)) {
    geocode=StringUtils.upperCase(StringUtils.trim(query));
  }
  final IConnector connector=ConnectorFactory.getConnector(geocode);
  if (connector instanceof ISearchByGeocode) {
    final Intent cachesIntent=new Intent(this,CacheDetailActivity.class);
    cachesIntent.putExtra(Intents.EXTRA_GEOCODE,geocode.toUpperCase(Locale.US));
    startActivity(cachesIntent);
    return true;
  }
  final TrackableConnector trackableConnector=ConnectorFactory.getTrackableConnector(geocode);
  if (trackableConnector != ConnectorFactory.UNKNOWN_TRACKABLE_CONNECTOR) {
    final Intent trackablesIntent=new Intent(this,TrackableActivity.class);
    trackablesIntent.putExtra(Intents.EXTRA_GEOCODE,geocode.toUpperCase(Locale.US));
    startActivity(trackablesIntent);
    return true;
  }
  if (keywordSearch) {
    cgeocaches.startActivityKeyword(this,query.trim());
    return true;
  }
  return false;
}
