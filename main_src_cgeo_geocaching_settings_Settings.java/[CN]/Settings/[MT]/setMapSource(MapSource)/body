{
  if (!MapProviderFactory.isSameActivity(getMapSource(),newMapSource)) {
    mapProvider=null;
  }
  putString(R.string.pref_mapsource,String.valueOf(newMapSource.getNumericalId()));
  if (newMapSource instanceof OfflineMapSource) {
    setMapFile(((OfflineMapSource)newMapSource).getFileName());
  }
}
