{
  CacheComparator comparator=null;
  if (cacheListType == CacheListType.HISTORY) {
    comparator=new VisitComparator();
  }
 else {
    if (CollectionUtils.isNotEmpty(list)) {
      boolean eventsOnly=true;
      for (      final Geocache cache : list) {
        if (!cache.isEventCache()) {
          eventsOnly=false;
          break;
        }
      }
      if (eventsOnly) {
        comparator=new EventDateComparator();
      }
    }
  }
  setComparator(comparator);
}
