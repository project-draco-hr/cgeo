{
  final List<IFilter> filters=Collections.unmodifiableList(factory.getFilters());
  if (filters.size() == 1) {
    runAfterwards.run(filters.get(0));
    return;
  }
  final AlertDialog.Builder builder=new AlertDialog.Builder(activity);
  builder.setTitle(menuTitle);
  final ArrayAdapter<IFilter> adapter=new ArrayAdapter<IFilter>(activity,android.R.layout.select_dialog_item,filters);
  builder.setAdapter(adapter,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int item){
      runAfterwards.run(filters.get(item));
    }
  }
);
  builder.create().show();
}
