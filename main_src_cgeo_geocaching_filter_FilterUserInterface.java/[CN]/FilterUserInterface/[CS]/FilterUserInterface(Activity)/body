{
  this.activity=activity;
  this.res=CgeoApplication.getInstance().getResources();
  registry=new ArrayList<>();
  if (Settings.getCacheType() == CacheType.ALL) {
    register(R.string.caches_filter_type,TypeFilter.Factory.class);
  }
  register(R.string.caches_filter_size,SizeFilter.Factory.class);
  register(R.string.cache_terrain,TerrainFilter.Factory.class);
  register(R.string.cache_difficulty,DifficultyFilter.Factory.class);
  register(R.string.cache_attributes,AttributeFilter.Factory.class);
  register(R.string.cache_status,StateFilter.Factory.class);
  register(R.string.caches_filter_track,TrackablesFilter.class);
  register(R.string.caches_filter_origin,OriginFilter.Factory.class);
  register(R.string.caches_filter_distance,DistanceFilter.Factory.class);
  register(R.string.caches_filter_popularity,PopularityFilter.Factory.class);
  register(R.string.caches_filter_popularity_ratio,PopularityRatioFilter.Factory.class);
  register(R.string.caches_filter_personal_data,PersonalDataFilterFactory.class);
  register(R.string.caches_filter_rating,RatingFilter.class);
  final Collator collator=TextUtils.getCollator();
  Collections.sort(registry,new Comparator<FactoryEntry>(){
    @Override public int compare(    final FactoryEntry lhs,    final FactoryEntry rhs){
      return collator.compare(lhs.name,rhs.name);
    }
  }
);
  register(R.string.caches_filter_clear,null);
}
