{
  if (guids == null && geocodes == null) {
    return MapUtils.EMPTY_SORTED_MAP;
  }
  final Parameters params=new Parameters("version","cgeo");
  final ImmutablePair<String,String> login=Settings.getGCvoteLogin();
  if (login != null) {
    params.put("userName",login.left,"password",login.right);
  }
  final boolean requestByGuids=CollectionUtils.isNotEmpty(guids);
  if (requestByGuids) {
    params.put("cacheIds",StringUtils.join(guids,','));
  }
 else {
    params.put("waypoints",StringUtils.join(geocodes,','));
  }
  final String page=Network.getResponseData(Network.getRequest("http://gcvote.com/getVotes.php",params));
  if (page == null) {
    return MapUtils.EMPTY_SORTED_MAP;
  }
  return getRatingsFromXMLResponse(page,requestByGuids);
}
