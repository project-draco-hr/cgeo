{
  if (cache == null) {
    return;
  }
  if (!cache.supportsLogging()) {
    return;
  }
  Resources res=((Activity)activity).getResources();
  if (Settings.getLogOffline()) {
    SubMenu logMenu=menu.addSubMenu(1,IAbstractActivity.MENU_LOG_VISIT_OFFLINE,0,res.getString(R.string.cache_menu_visit_offline)).setIcon(MENU_ICON_LOG_VISIT);
    List<Integer> logTypes=cache.getPossibleLogTypes();
    for (    Integer logType : logTypes) {
      String label=cgBase.logTypes2.get(logType);
      logMenu.add(1,IAbstractActivity.MENU_LOG_VISIT_OFFLINE + logType,0,label);
    }
    logMenu.add(1,IAbstractActivity.MENU_LOG_VISIT,0,res.getString(R.string.cache_menu_visit));
  }
 else {
    menu.add(1,IAbstractActivity.MENU_LOG_VISIT,0,res.getString(R.string.cache_menu_visit)).setIcon(MENU_ICON_LOG_VISIT);
  }
}
