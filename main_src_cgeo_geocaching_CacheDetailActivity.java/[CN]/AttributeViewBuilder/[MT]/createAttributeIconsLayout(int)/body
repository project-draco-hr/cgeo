{
  final LinearLayout rows=new LinearLayout(CacheDetailActivity.this);
  rows.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT,LayoutParams.WRAP_CONTENT));
  rows.setOrientation(LinearLayout.VERTICAL);
  LinearLayout attributeRow=newAttributeIconsRow();
  rows.addView(attributeRow);
  noAttributeIconsFound=true;
  for (  final String attributeName : cache.getAttributes()) {
    attributeRow.measure(0,0);
    final int rowWidth=attributeRow.getMeasuredWidth();
    final FrameLayout fl=(FrameLayout)getLayoutInflater().inflate(R.layout.attribute_image,attributeRow,false);
    final ImageView iv=(ImageView)fl.getChildAt(0);
    if ((parentWidth - rowWidth) < iv.getLayoutParams().width) {
      attributeRow=newAttributeIconsRow();
      rows.addView(attributeRow);
    }
    final boolean strikeThrough=!CacheAttribute.isEnabled(attributeName);
    final CacheAttribute attrib=CacheAttribute.getByRawName(CacheAttribute.trimAttributeName(attributeName));
    if (attrib != null) {
      noAttributeIconsFound=false;
      Drawable d=res.getDrawable(attrib.drawableId);
      iv.setImageDrawable(d);
      if (strikeThrough) {
        final ImageView strikeThroughImage=new ImageView(CacheDetailActivity.this);
        strikeThroughImage.setLayoutParams(iv.getLayoutParams());
        d=res.getDrawable(R.drawable.attribute__strikethru);
        strikeThroughImage.setImageDrawable(d);
        fl.addView(strikeThroughImage);
      }
    }
 else {
      final Drawable d=res.getDrawable(R.drawable.attribute_unknown);
      iv.setImageDrawable(d);
    }
    attributeRow.addView(fl);
  }
  return rows;
}
