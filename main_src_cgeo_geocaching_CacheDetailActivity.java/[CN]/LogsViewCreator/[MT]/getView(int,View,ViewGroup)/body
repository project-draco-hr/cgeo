{
  View rowView=convertView;
  if (null == rowView) {
    rowView=getLayoutInflater().inflate(R.layout.cacheview_logs_item,null);
  }
  LogViewHolder holder=(LogViewHolder)rowView.getTag();
  if (null == holder) {
    holder=new LogViewHolder(rowView);
    rowView.setTag(holder);
  }
  final LogEntry log=getItem(position);
  if (log.date > 0) {
    holder.date.setText(Formatter.formatShortDate(log.date));
    holder.date.setVisibility(View.VISIBLE);
  }
 else {
    holder.date.setVisibility(View.GONE);
  }
  holder.type.setText(log.type.getL10n());
  holder.author.setText(StringEscapeUtils.unescapeHtml4(log.author));
  holder.count.setVisibility(View.VISIBLE);
  if (log.found == -1) {
    holder.count.setVisibility(View.GONE);
  }
 else {
    holder.count.setText(log.found + " " + res.getQuantityText(R.plurals.cache_counts,log.found));
  }
  if (BaseUtils.containsHtml(log.log)) {
    holder.text.setText(Html.fromHtml(log.log,new HtmlImage(cache.getGeocode(),false,cache.getListId(),false),null),TextView.BufferType.SPANNABLE);
  }
 else {
    holder.text.setText(log.log);
  }
  if (log.hasLogImages()) {
    holder.images.setText(log.getImageTitles());
    holder.images.setVisibility(View.VISIBLE);
    holder.images.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        cgeoimages.startActivityLogImages(CacheDetailActivity.this,cache.getGeocode(),new ArrayList<cgImage>(log.getLogImages()));
      }
    }
);
  }
 else {
    holder.images.setVisibility(View.GONE);
  }
  holder.statusMarker.setVisibility(View.VISIBLE);
  if (log.type == LogType.FOUND_IT || log.type == LogType.WEBCAM_PHOTO_TAKEN || log.type == LogType.ATTENDED) {
    holder.statusMarker.setImageResource(R.drawable.mark_green);
  }
 else   if (log.type == LogType.PUBLISH_LISTING || log.type == LogType.ENABLE_LISTING || log.type == LogType.OWNER_MAINTENANCE) {
    holder.statusMarker.setImageResource(R.drawable.mark_green_more);
  }
 else   if (log.type == LogType.DIDNT_FIND_IT || log.type == LogType.NEEDS_MAINTENANCE || log.type == LogType.NEEDS_ARCHIVE) {
    holder.statusMarker.setImageResource(R.drawable.mark_red);
  }
 else   if (log.type == LogType.TEMP_DISABLE_LISTING || log.type == LogType.ARCHIVE) {
    holder.statusMarker.setImageResource(R.drawable.mark_red_more);
  }
 else {
    holder.statusMarker.setVisibility(View.GONE);
  }
  if (null == convertView) {
    holder.author.setOnClickListener(userActionsClickListener);
    holder.text.setMovementMethod(LinkMovementMethod.getInstance());
    holder.text.setOnClickListener(decryptTextClickListener);
    registerForContextMenu(holder.text);
  }
  return rowView;
}
