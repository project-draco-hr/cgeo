{
  super.onCreateContextMenu(menu,view,info);
  final int viewId=view.getId();
  contextMenuWPIndex=-1;
switch (viewId) {
case R.id.author:
case R.id.value:
    if (viewId == R.id.author) {
      contextMenuUser=((TextView)view).getText().toString();
    }
 else     if (viewId == R.id.value) {
      if (StringUtils.isNotBlank(cache.getOwnerReal())) {
        contextMenuUser=cache.getOwnerReal();
      }
 else {
        contextMenuUser=cache.getOwner();
      }
    }
  menu.setHeaderTitle(res.getString(R.string.user_menu_title) + " " + contextMenuUser);
menu.add(viewId,1,0,res.getString(R.string.user_menu_view_hidden));
menu.add(viewId,2,0,res.getString(R.string.user_menu_view_found));
menu.add(viewId,3,0,res.getString(R.string.user_menu_open_browser));
break;
case -1:
if (null != cache.getWaypoints()) {
try {
final ViewGroup parent=((ViewGroup)view.getParent());
for (int i=0; i < parent.getChildCount(); i++) {
if (parent.getChildAt(i) == view) {
final List<cgWaypoint> sortedWaypoints=new ArrayList<cgWaypoint>(cache.getWaypoints());
Collections.sort(sortedWaypoints);
final cgWaypoint waypoint=sortedWaypoints.get(i);
final int index=cache.getWaypoints().indexOf(waypoint);
menu.setHeaderTitle(res.getString(R.string.waypoint));
menu.add(CONTEXT_MENU_WAYPOINT_DUPLICATE,index,0,R.string.waypoint_duplicate);
contextMenuWPIndex=index;
if (waypoint.isUserDefined()) {
  menu.add(CONTEXT_MENU_WAYPOINT_DELETE,index,0,R.string.waypoint_delete);
}
if (waypoint.getCoords() != null) {
  menu.add(CONTEXT_MENU_WAYPOINT_COMPASS,index,0,R.string.cache_menu_compass);
  SubMenu subMenu=menu.addSubMenu(CONTEXT_MENU_WAYPOINT_NAVIGATE,index,0,R.string.cache_menu_navigate).setIcon(android.R.drawable.ic_menu_mapmode);
  NavigationAppFactory.addMenuItems(subMenu,this,res);
}
break;
}
}
}
 catch (Exception e) {
}
}
break;
default :
break;
}
}
