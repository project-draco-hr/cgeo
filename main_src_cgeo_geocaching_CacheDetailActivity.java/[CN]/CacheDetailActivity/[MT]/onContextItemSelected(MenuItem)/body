{
  final int groupId=item.getGroupId();
  final int index=item.getItemId();
switch (groupId) {
case R.id.value:
case R.id.shortdesc:
case R.id.longdesc:
case R.id.personalnote:
case R.id.hint:
case R.id.log:
switch (index) {
case MENU_FIELD_COPY:
      ClipboardUtils.copyToClipboard(clickedItemText);
    return true;
case MENU_FIELD_TRANSLATE:
  TranslationUtils.startActivityTranslate(this,Locale.getDefault().getLanguage(),clickedItemText.toString());
return true;
case MENU_FIELD_TRANSLATE_EN:
TranslationUtils.startActivityTranslate(this,Locale.ENGLISH.getLanguage(),clickedItemText.toString());
return true;
case MENU_FIELD_SHARE:
final Intent intent=new Intent(Intent.ACTION_SEND);
intent.setType("text/plain");
intent.putExtra(Intent.EXTRA_TEXT,clickedItemText.toString());
startActivity(Intent.createChooser(intent,res.getText(R.string.cache_share_field)));
return true;
default :
break;
}
break;
case CONTEXT_MENU_WAYPOINT_EDIT:
if (cache.hasWaypoints() && index < cache.getWaypoints().size()) {
final cgWaypoint waypoint=cache.getWaypoints().get(index);
Intent editIntent=new Intent(this,cgeowaypointadd.class);
editIntent.putExtra("waypoint",waypoint.getId());
startActivity(editIntent);
refreshOnResume=true;
}
break;
case CONTEXT_MENU_WAYPOINT_DUPLICATE:
if (cache.duplicateWaypoint(index)) {
notifyDataSetChanged();
}
break;
case CONTEXT_MENU_WAYPOINT_DELETE:
if (cache.deleteWaypoint(index)) {
notifyDataSetChanged();
}
break;
case CONTEXT_MENU_WAYPOINT_DEFAULT_NAVIGATION:
{
final cgWaypoint waypoint=cache.getWaypoint(index);
if (waypoint != null) {
NavigationAppFactory.startDefaultNavigationApplication(geolocation,this,null,waypoint,null);
}
}
break;
case CONTEXT_MENU_WAYPOINT_NAVIGATE:
{
final cgWaypoint waypoint=cache.getWaypoint(contextMenuWPIndex);
if (waypoint != null) {
NavigationAppFactory.showNavigationMenu(geolocation,this,null,waypoint,null);
}
}
break;
case CONTEXT_MENU_WAYPOINT_CACHES_AROUND:
{
final cgWaypoint waypoint=cache.getWaypoint(index);
if (waypoint != null) {
cgeocaches.startActivityCachesAround(this,waypoint.getCoords());
}
}
break;
default :
return onOptionsItemSelected(item);
}
return false;
}
