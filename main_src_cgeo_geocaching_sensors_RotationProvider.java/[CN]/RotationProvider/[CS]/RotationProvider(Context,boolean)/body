{
  sensorManager=(SensorManager)context.getSystemService(Context.SENSOR_SERVICE);
  final Sensor sensor=lowPower ? sensorManager.getDefaultSensor(Sensor.TYPE_GEOMAGNETIC_ROTATION_VECTOR) : null;
  if (sensor != null) {
    rotationSensor=sensor;
    Log.d("RotationProvider: geomagnetic (low-power) sensor found");
  }
 else {
    rotationSensor=sensorManager.getDefaultSensor(Sensor.TYPE_ROTATION_VECTOR);
    if (rotationSensor != null) {
      Log.d("RotationProvider: sensor found");
    }
 else {
      Log.w("RotationProvider: no rotation sensor on this device");
    }
  }
}
