{
  super.onCreate(savedInstanceState,R.layout.compass_activity);
  ButterKnife.inject(this);
  final Bundle extras=getIntent().getExtras();
  if (extras == null) {
    finish();
    return;
  }
  final String geocode=extras.getString(Intents.EXTRA_GEOCODE);
  if (geocode != null) {
    cache=DataStore.loadCache(geocode,LoadFlags.LOAD_CACHE_OR_DB);
  }
  if (extras.containsKey(Intents.EXTRA_WAYPOINT_ID)) {
    final int waypointId=extras.getInt(Intents.EXTRA_WAYPOINT_ID);
    final Waypoint waypoint=DataStore.loadWaypoint(waypointId);
    if (waypoint != null) {
      setTarget(waypoint);
    }
  }
 else   if (extras.containsKey(Intents.EXTRA_COORDS)) {
    setTarget(extras.<Geopoint>getParcelable(Intents.EXTRA_COORDS),extras.getString(Intents.EXTRA_DESCRIPTION));
  }
 else {
    setTarget(cache);
  }
  if (cache != null) {
    setCacheTitleBar(cache);
  }
 else {
    setTitle(StringUtils.defaultIfBlank(extras.getString(Intents.EXTRA_NAME),res.getString(R.string.navigation)));
  }
  setVolumeControlStream(AudioManager.STREAM_MUSIC);
  presentShowcase();
}
