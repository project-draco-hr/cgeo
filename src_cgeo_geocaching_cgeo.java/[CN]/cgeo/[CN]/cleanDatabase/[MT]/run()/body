{
  if (app == null) {
    return;
  }
  if (cleanupRunning == true) {
    return;
  }
  boolean more=false;
  if (version != settings.version) {
    Log.i(cgSettings.tag,"Initializing hard cleanup - version changed from " + settings.version + " to "+ version+ ".");
    more=true;
  }
  cleanupRunning=true;
  app.cleanDatabase(more);
  cleanupRunning=false;
  if (version != null && version > 0) {
    SharedPreferences.Editor edit=prefs.edit();
    edit.putInt("version",version);
    edit.commit();
  }
}
