{
  final List<LogType> logTypes=cache.getPossibleLogTypes();
  final ArrayList<LogTypeEntry> list=new ArrayList<LogTypeEntry>();
  for (  LogType logType : logTypes) {
    list.add(new LogTypeEntry(logType));
  }
  list.add(new LogTypeEntry(null));
  final AlertDialog.Builder builder=new AlertDialog.Builder(activity);
  builder.setTitle(R.string.cache_menu_visit_offline);
  final ArrayAdapter<LogTypeEntry> adapter=new ArrayAdapter<LogTypeEntry>(activity,android.R.layout.select_dialog_item,list);
  builder.setAdapter(adapter,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int item){
      final LogTypeEntry logTypeEntry=adapter.getItem(item);
      if (logTypeEntry.logType != null) {
        cache.logOffline(activity,logTypeEntry.logType);
      }
 else {
        cache.logVisit((IAbstractActivity)activity);
      }
    }
  }
);
  builder.create().show();
}
