{
  super.onCreate(savedInstanceState);
  setTheme();
  setContentView(R.layout.visit);
  setTitle(res.getString(R.string.log_new_log));
  final Bundle extras=getIntent().getExtras();
  if (extras != null) {
    cacheid=extras.getString(EXTRAS_ID);
    geocode=extras.getString(EXTRAS_GEOCODE);
    text=extras.getString(EXTRAS_TEXT);
    alreadyFound=extras.getBoolean(EXTRAS_FOUND);
  }
  if ((StringUtils.isBlank(cacheid)) && StringUtils.isNotBlank(geocode)) {
    cacheid=app.getCacheid(geocode);
  }
  if (StringUtils.isBlank(geocode) && StringUtils.isNotBlank(cacheid)) {
    geocode=app.getGeocode(cacheid);
  }
  cache=cgeoapplication.getInstance().loadCache(geocode,LoadFlags.LOADCACHEORDB);
  if (StringUtils.isNotBlank(cache.getName())) {
    setTitle(res.getString(R.string.log_new_log) + ": " + cache.getName());
  }
 else {
    setTitle(res.getString(R.string.log_new_log) + ": " + cache.getGeocode().toUpperCase());
  }
  app.setAction(geocode);
  init();
}
