{
  if (CollectionUtils.isEmpty(trackables)) {
    return;
  }
  if (inflater == null) {
    inflater=getLayoutInflater();
  }
  actionButtons=new SparseArray<TrackableLog>();
  final LinearLayout inventoryView=(LinearLayout)findViewById(R.id.inventory);
  inventoryView.removeAllViews();
  for (  TrackableLog tb : trackables) {
    LinearLayout inventoryItem=(LinearLayout)inflater.inflate(R.layout.visit_trackable,null);
    ((TextView)inventoryItem.findViewById(R.id.trackcode)).setText(tb.trackCode);
    ((TextView)inventoryItem.findViewById(R.id.name)).setText(tb.name);
    final TextView actionButton=(TextView)inventoryItem.findViewById(R.id.action);
    actionButton.setId(tb.id);
    actionButtons.put(actionButton.getId(),tb);
    actionButton.setText(res.getString(tb.action.resourceId) + " ???");
    actionButton.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View view){
        selectTrackableAction(view);
      }
    }
);
    final String tbCode=tb.trackCode;
    inventoryItem.setClickable(true);
    inventoryItem.findViewById(R.id.info).setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View view){
        final Intent trackablesIntent=new Intent(VisitCacheActivity.this,TrackableActivity.class);
        trackablesIntent.putExtra(EXTRAS_GEOCODE,tbCode);
        startActivity(trackablesIntent);
      }
    }
);
    inventoryView.addView(inventoryItem);
  }
  if (inventoryView.getChildCount() > 0) {
    findViewById(R.id.inventory_box).setVisibility(View.VISIBLE);
  }
  if (inventoryView.getChildCount() > 1) {
    final LinearLayout inventoryChangeAllView=(LinearLayout)findViewById(R.id.inventory_changeall);
    final Button changeButton=(Button)inventoryChangeAllView.findViewById(R.id.changebutton);
    changeButton.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View view){
        selectAllTrackablesAction();
      }
    }
);
    inventoryChangeAllView.setVisibility(View.VISIBLE);
  }
}
