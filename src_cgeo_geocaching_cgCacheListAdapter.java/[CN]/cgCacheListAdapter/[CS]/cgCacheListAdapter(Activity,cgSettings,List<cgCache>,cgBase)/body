{
  super(activityIn,0,listIn);
  res=activityIn.getResources();
  activity=activityIn;
  settings=settingsIn;
  list=listIn;
  base=baseIn;
  dstComparator=new DistanceComparator();
  DisplayMetrics metrics=new DisplayMetrics();
  activity.getWindowManager().getDefaultDisplay().getMetrics(metrics);
  pixelDensity=metrics.density;
  if (gcIcons == null || gcIcons.isEmpty()) {
    gcIcons.put("ape",(Drawable)activity.getResources().getDrawable(R.drawable.type_ape));
    gcIcons.put("cito",(Drawable)activity.getResources().getDrawable(R.drawable.type_cito));
    gcIcons.put("earth",(Drawable)activity.getResources().getDrawable(R.drawable.type_earth));
    gcIcons.put("event",(Drawable)activity.getResources().getDrawable(R.drawable.type_event));
    gcIcons.put("letterbox",(Drawable)activity.getResources().getDrawable(R.drawable.type_letterbox));
    gcIcons.put("locationless",(Drawable)activity.getResources().getDrawable(R.drawable.type_locationless));
    gcIcons.put("mega",(Drawable)activity.getResources().getDrawable(R.drawable.type_mega));
    gcIcons.put("multi",(Drawable)activity.getResources().getDrawable(R.drawable.type_multi));
    gcIcons.put("traditional",(Drawable)activity.getResources().getDrawable(R.drawable.type_traditional));
    gcIcons.put("virtual",(Drawable)activity.getResources().getDrawable(R.drawable.type_virtual));
    gcIcons.put("webcam",(Drawable)activity.getResources().getDrawable(R.drawable.type_webcam));
    gcIcons.put("wherigo",(Drawable)activity.getResources().getDrawable(R.drawable.type_wherigo));
    gcIcons.put("mystery",(Drawable)activity.getResources().getDrawable(R.drawable.type_mystery));
    gcIcons.put("gchq",(Drawable)activity.getResources().getDrawable(R.drawable.type_hq));
  }
  if (settings.skin == 0) {
    ratingBcgs[0]=R.drawable.favourite_background_red_dark;
    ratingBcgs[1]=R.drawable.favourite_background_orange_dark;
    ratingBcgs[2]=R.drawable.favourite_background_green_dark;
  }
 else {
    ratingBcgs[0]=R.drawable.favourite_background_red_light;
    ratingBcgs[1]=R.drawable.favourite_background_orange_light;
    ratingBcgs[2]=R.drawable.favourite_background_green_light;
  }
}
