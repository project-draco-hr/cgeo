{
  int status=0;
  try {
    final Parameters params=new Parameters();
    final String method="GET";
    final String pathRequest="/oauth/request_token";
    final String host="api.twitter.com";
    OAuth.signOAuth(host,pathRequest,method,true,params,null,null);
    final String line=Network.getResponseData(Network.getRequest("https://" + host + pathRequest,params));
    if (StringUtils.isNotBlank(line)) {
      final MatcherWrapper paramsMatcher1=new MatcherWrapper(paramsPattern1,line);
      if (paramsMatcher1.find()) {
        OAtoken=paramsMatcher1.group(1);
      }
      final MatcherWrapper paramsMatcher2=new MatcherWrapper(paramsPattern2,line);
      if (paramsMatcher2.find()) {
        OAtokenSecret=paramsMatcher2.group(1);
      }
      if (StringUtils.isNotBlank(OAtoken) && StringUtils.isNotBlank(OAtokenSecret)) {
        Settings.setTwitterTempTokens(OAtoken,OAtokenSecret);
        try {
          final Parameters paramsBrowser=new Parameters();
          paramsBrowser.put("oauth_callback","oob");
          final String pathAuthorize="/oauth/authorize";
          OAuth.signOAuth(host,pathAuthorize,"GET",true,paramsBrowser,OAtoken,OAtokenSecret);
          final String encodedParams=EntityUtils.toString(new UrlEncodedFormEntity(paramsBrowser));
          startActivity(new Intent(Intent.ACTION_VIEW,Uri.parse("https://" + host + pathAuthorize+ "?"+ encodedParams)));
          status=1;
        }
 catch (        Exception e) {
          Log.e("TwitterAuthorizationActivity.requestToken(2): " + e.toString());
        }
      }
    }
  }
 catch (  Exception e) {
    Log.e("TwitterAuthorizationActivity.requestToken(1): " + e.toString());
  }
  requestTokenHandler.sendEmptyMessage(status);
}
