{
  int status=0;
  try {
    final Parameters params=new Parameters("oauth_verifier",pinEntry.getText().toString());
    final String method="POST";
    final String path="/oauth/access_token";
    final String host="api.twitter.com";
    OAuth.signOAuth(host,path,method,true,params,OAtoken,OAtokenSecret);
    final String line=StringUtils.defaultString(Network.getResponseData(Network.postRequest("https://" + host + path,params)));
    OAtoken="";
    OAtokenSecret="";
    final MatcherWrapper paramsMatcher1=new MatcherWrapper(paramsPattern1,line);
    if (paramsMatcher1.find()) {
      OAtoken=paramsMatcher1.group(1);
    }
    final MatcherWrapper paramsMatcher2=new MatcherWrapper(paramsPattern2,line);
    if (paramsMatcher2.find() && paramsMatcher2.groupCount() > 0) {
      OAtokenSecret=paramsMatcher2.group(1);
    }
    if (StringUtils.isBlank(OAtoken) && StringUtils.isBlank(OAtokenSecret)) {
      OAtoken="";
      OAtokenSecret="";
      Settings.setTwitterTokens(null,null,false);
    }
 else {
      Settings.setTwitterTokens(OAtoken,OAtokenSecret,true);
      status=1;
    }
  }
 catch (  Exception e) {
    Log.e("TwitterAuthorizationActivity.changeToken: " + e.toString());
  }
  changeTokensHandler.sendEmptyMessage(status);
}
