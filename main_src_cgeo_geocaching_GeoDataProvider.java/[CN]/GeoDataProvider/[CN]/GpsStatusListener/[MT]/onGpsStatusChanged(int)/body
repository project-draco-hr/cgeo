{
  boolean changed=false;
switch (event) {
case GpsStatus.GPS_EVENT_SATELLITE_STATUS:
{
      final GpsStatus status=geoManager.getGpsStatus(null);
      int satellites=0;
      int fixed=0;
      for (      final GpsSatellite satellite : status.getSatellites()) {
        if (satellite.usedInFix()) {
          fixed++;
        }
        satellites++;
      }
      if (satellites != current.satellitesVisible || fixed != current.satellitesFixed) {
        current.satellitesVisible=satellites;
        current.satellitesFixed=fixed;
        changed=true;
      }
      break;
    }
case GpsStatus.GPS_EVENT_STARTED:
  if (!current.gpsEnabled) {
    current.gpsEnabled=true;
    current.satellitesFixed=0;
    current.satellitesVisible=0;
    changed=true;
  }
break;
case GpsStatus.GPS_EVENT_STOPPED:
if (current.gpsEnabled) {
current.gpsEnabled=false;
current.satellitesFixed=0;
current.satellitesVisible=0;
changed=true;
}
break;
}
if (changed) {
selectBest();
}
}
