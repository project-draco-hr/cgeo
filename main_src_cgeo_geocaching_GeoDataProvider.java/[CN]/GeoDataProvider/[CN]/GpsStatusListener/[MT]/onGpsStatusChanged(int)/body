{
  boolean changed=false;
  if (event == GpsStatus.GPS_EVENT_SATELLITE_STATUS) {
    final GpsStatus status=geoManager.getGpsStatus(null);
    final Iterator<GpsSatellite> statusIterator=status.getSatellites().iterator();
    int satellites=0;
    int fixed=0;
    while (statusIterator.hasNext()) {
      final GpsSatellite sat=statusIterator.next();
      if (sat.usedInFix()) {
        fixed++;
      }
      satellites++;
    }
    if (satellites != current.satellitesVisible) {
      current.satellitesVisible=satellites;
      changed=true;
    }
    if (fixed != current.satellitesFixed) {
      current.satellitesFixed=fixed;
      changed=true;
    }
  }
 else   if (event == GpsStatus.GPS_EVENT_STARTED && !current.gpsEnabled) {
    current.gpsEnabled=true;
    current.satellitesFixed=0;
    current.satellitesVisible=0;
    changed=true;
  }
 else   if (event == GpsStatus.GPS_EVENT_STOPPED && current.gpsEnabled) {
    current.gpsEnabled=false;
    current.satellitesFixed=0;
    current.satellitesVisible=0;
    changed=true;
  }
  if (changed) {
    selectBest(null);
  }
}
