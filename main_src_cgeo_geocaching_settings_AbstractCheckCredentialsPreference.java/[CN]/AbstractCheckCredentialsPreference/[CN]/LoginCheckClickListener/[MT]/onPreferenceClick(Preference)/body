{
  final Resources res=settingsActivity.getResources();
  final ImmutablePair<String,String> credentials=getCredentials();
  if (StringUtils.isBlank(credentials.getLeft()) || StringUtils.isBlank(credentials.getRight())) {
    ActivityMixin.showToast(settingsActivity,R.string.err_missing_auth);
    return false;
  }
  final ProgressDialog loginDialog=ProgressDialog.show(settingsActivity,res.getString(R.string.init_login_popup),res.getString(R.string.init_login_popup_working),true);
  loginDialog.setCancelable(false);
  Cookies.clearCookies();
  AppObservable.bindActivity(settingsActivity,Async.start(new Func0<ImmutablePair<StatusCode,Observable<Drawable>>>(){
    @Override public ImmutablePair<StatusCode,Observable<Drawable>> call(){
      return login();
    }
  }
)).subscribeOn(RxUtils.networkScheduler).subscribe(new Action1<ImmutablePair<StatusCode,Observable<Drawable>>>(){
    @Override public void call(    final ImmutablePair<StatusCode,Observable<Drawable>> loginInfo){
      loginDialog.dismiss();
      if (loginInfo.getLeft() == StatusCode.NO_ERROR) {
        Dialogs.message(settingsActivity,R.string.init_login_popup,R.string.init_login_popup_ok,loginInfo.getRight());
      }
 else {
        Dialogs.message(settingsActivity,R.string.init_login_popup,res.getString(R.string.init_login_popup_failed_reason) + " " + loginInfo.getLeft().getErrorString(res)+ ".");
      }
      settingsActivity.initBasicMemberPreferences();
    }
  }
);
  return false;
}
