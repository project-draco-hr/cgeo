{
  if (str == null || parsePatterns == null) {
    throw new IllegalArgumentException("Date and Patterns must not be null");
  }
  SimpleDateFormat parser=new SimpleDateFormat();
  parser.setLenient(lenient);
  ParsePosition pos=new ParsePosition(0);
  for (  String parsePattern : parsePatterns) {
    String pattern=parsePattern;
    if (parsePattern.endsWith("ZZ")) {
      pattern=pattern.substring(0,pattern.length() - 1);
    }
    parser.applyPattern(pattern);
    pos.setIndex(0);
    String str2=str;
    if (parsePattern.endsWith("ZZ")) {
      str2=str.replaceAll("([-+][0-9][0-9]):([0-9][0-9])$","$1$2");
    }
    Date date=parser.parse(str2,pos);
    if (date != null && pos.getIndex() == str2.length()) {
      return date;
    }
  }
  throw new ParseException("Unable to parse the date: " + str,-1);
}
