{
  super.onCreate(savedInstanceState);
  activity=this;
  res=this.getResources();
  app=(cgeoapplication)this.getApplication();
  app.setAction(null);
  settings=new cgSettings(this,getSharedPreferences(cgSettings.preferences,0));
  base=new cgBase(app,settings,getSharedPreferences(cgSettings.preferences,0));
  warning=new cgWarning(this);
  Intent intent=getIntent();
  if (Intent.ACTION_SEARCH.equals(intent.getAction())) {
    final String query=intent.getStringExtra(SearchManager.QUERY);
    final boolean found=instantSearch(query);
    if (found) {
      finish();
      return;
    }
  }
  if (settings.skin == 1) {
    setTheme(R.style.light);
  }
 else {
    setTheme(R.style.dark);
  }
  setContentView(R.layout.search);
  base.setTitle(activity,res.getString(R.string.search));
  base.sendAnal(activity,"/advanced-search");
  init();
}
