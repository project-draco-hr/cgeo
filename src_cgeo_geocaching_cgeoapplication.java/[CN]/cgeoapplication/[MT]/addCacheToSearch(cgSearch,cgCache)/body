{
  if (search == null || cache == null) {
    return false;
  }
  final long searchId=search.getCurrentId();
  if (searches.containsKey(searchId) == false) {
    searches.put(searchId,search);
  }
  String geocode=cache.geocode.toUpperCase();
  String guid=cache.guid.toLowerCase();
  boolean status=false;
  cgCache oldCache=null;
  if (cache.reason >= 1 || (oldCache=storage.loadCache(cache.geocode,cache.guid,false,true,true,true,true,true)) != null) {
    status=storage.saveCache(cache);
  }
 else {
    cgCache mergedCache=cache.merge(storage,oldCache);
    status=storage.saveCache(mergedCache);
  }
  if (status) {
    search.addGeocode(cache.geocode);
  }
  return status;
}
