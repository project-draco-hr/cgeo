{
  if (StringUtils.isEmpty(str)) {
    return str;
  }
  char[] buffer=str.toCharArray();
  for (int i=0; i < buffer.length; i++) {
    char ch=buffer[i];
    if (Character.isUpperCase(ch)) {
      buffer[i]=Character.toLowerCase(ch);
    }
 else     if (Character.isTitleCase(ch)) {
      buffer[i]=Character.toLowerCase(ch);
    }
 else     if (Character.isLowerCase(ch)) {
      buffer[i]=Character.toUpperCase(ch);
    }
  }
  return new String(buffer);
}
