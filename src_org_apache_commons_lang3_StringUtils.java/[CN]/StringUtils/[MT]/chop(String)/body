{
  if (str == null) {
    return null;
  }
  int strLen=str.length();
  if (strLen < 2) {
    return EMPTY;
  }
  int lastIdx=strLen - 1;
  String ret=str.substring(0,lastIdx);
  char last=str.charAt(lastIdx);
  if (last == CharUtils.LF && ret.charAt(lastIdx - 1) == CharUtils.CR) {
    return ret.substring(0,lastIdx - 1);
  }
  return ret;
}
