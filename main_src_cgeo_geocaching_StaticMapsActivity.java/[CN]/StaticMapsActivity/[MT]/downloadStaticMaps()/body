{
  final Geocache cache=DataStore.loadCache(this.geocode,LoadFlags.LOAD_CACHE_OR_DB);
  if (waypointId == null) {
    StaticMapsProvider.storeCacheStaticMap(cache,true);
    return cache.hasStaticMap();
  }
  final Waypoint waypoint=cache.getWaypointById(waypointId);
  if (waypoint != null) {
    StaticMapsProvider.removeWpStaticMaps(waypoint,geocode);
    StaticMapsProvider.storeWaypointStaticMap(cache,waypoint,true);
    return StaticMapsProvider.hasStaticMapForWaypoint(geocode,waypoint);
  }
  return false;
}
