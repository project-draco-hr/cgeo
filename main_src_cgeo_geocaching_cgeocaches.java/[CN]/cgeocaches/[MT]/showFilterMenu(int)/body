{
  AlertDialog.Builder builder=new AlertDialog.Builder(this);
switch (submenu) {
case SUBMENU_FILTER_SIZE:
    builder.setTitle(res.getString(R.string.caches_filter_size_title));
  final CacheSize[] cacheSizes=CacheSize.values();
ArrayList<String> names=new ArrayList<String>();
for (CacheSize cacheSize : cacheSizes) {
names.add(cacheSize.getL10n());
}
builder.setItems(names.toArray(new String[names.size()]),new DialogInterface.OnClickListener(){
public void onClick(DialogInterface dialog,int item){
setFilter(new FilterBySize(cacheSizes[item]));
}
}
);
break;
case SUBMENU_FILTER_TYPE:
builder.setTitle(res.getString(R.string.caches_filter_type_title));
final CacheType[] cacheTypes=CacheType.values();
ArrayList<String> typeNames=new ArrayList<String>();
for (CacheType cacheType : cacheTypes) {
if (cacheType != CacheType.ALL) {
typeNames.add(cacheType.getL10n());
}
}
builder.setItems(typeNames.toArray(new String[typeNames.size()]),new DialogInterface.OnClickListener(){
public void onClick(DialogInterface dialog,int item){
setFilter(new FilterByType(cacheTypes[item]));
}
}
);
break;
default :
break;
}
builder.create().show();
}
