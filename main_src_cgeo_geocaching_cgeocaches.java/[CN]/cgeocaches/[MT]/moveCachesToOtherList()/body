{
  new StoredList.UserInterface(this).promptForListSelection(R.string.cache_menu_move_list,new RunnableWithArgument<Integer>(){
    @Override public void run(    Integer newListId){
      List<cgCache> selected;
      final boolean moveAll=adapter.getChecked() == 0;
      if (moveAll) {
        selected=new ArrayList<cgCache>(cacheList);
      }
 else {
        selected=adapter.getCheckedCaches();
      }
      app.moveToList(selected,newListId);
      adapter.resetChecks();
      refreshCurrentList();
    }
  }
);
}
