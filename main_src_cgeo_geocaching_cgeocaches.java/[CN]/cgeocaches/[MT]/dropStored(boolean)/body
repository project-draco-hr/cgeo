{
  AlertDialog.Builder dialog=new AlertDialog.Builder(this);
  dialog.setCancelable(true);
  dialog.setTitle(res.getString(R.string.caches_drop_stored));
  if (adapter != null && adapter.getCheckedCount() > 0) {
    dialog.setMessage(res.getString(R.string.caches_drop_selected_ask));
  }
 else {
    dialog.setMessage(res.getString(R.string.caches_drop_all_ask));
  }
  dialog.setPositiveButton(getString(android.R.string.yes),new DialogInterface.OnClickListener(){
    public void onClick(    DialogInterface dialog,    int id){
      dropSelected();
      if (removeListAfterwards) {
        removeList(false);
      }
      dialog.cancel();
    }
  }
);
  dialog.setNegativeButton(getString(android.R.string.no),new DialogInterface.OnClickListener(){
    public void onClick(    DialogInterface dialog,    int id){
      dialog.cancel();
    }
  }
);
  AlertDialog alert=dialog.create();
  alert.show();
}
