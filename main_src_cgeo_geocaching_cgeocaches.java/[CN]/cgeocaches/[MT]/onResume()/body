{
  super.onResume();
  init();
  if (adapter != null) {
    adapter.setSelectMode(false,true);
    final Geopoint coordsNow=app.currentGeo().getCoords();
    if (coordsNow != null) {
      adapter.setActualCoordinates(coordsNow);
      adapter.setActualHeading(northHeading);
      adapter.forceSort(coordsNow);
    }
  }
  if (loadCachesHandler != null && search != null) {
    loadCachesHandler.sendEmptyMessage(0);
  }
  if (type == CacheListType.OFFLINE && listId >= StoredList.STANDARD_LIST_ID && search != null) {
    SearchResult newSearch=cgeoapplication.getInstance().getBatchOfStoredCaches(true,coords,cacheType,listId);
    if (newSearch != null && newSearch.getTotal() != search.getTotal()) {
      refreshCurrentList();
    }
  }
}
