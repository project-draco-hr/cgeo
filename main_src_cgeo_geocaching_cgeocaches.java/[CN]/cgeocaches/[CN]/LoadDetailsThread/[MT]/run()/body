{
  removeGeoAndDir();
  final List<cgCache> weHaveStaticMaps=new ArrayList<cgCache>(selected.size());
  for (  cgCache cache : selected) {
    if (Settings.isStoreOfflineMaps() && StaticMapsProvider.hasStaticMapForCache(cache.getGeocode())) {
      weHaveStaticMaps.add(cache);
      continue;
    }
    try {
      refreshCache(cache);
    }
 catch (    InterruptedException e) {
      Log.i(e.getMessage());
    }
  }
  for (  cgCache cache : weHaveStaticMaps) {
    try {
      refreshCache(cache);
    }
 catch (    InterruptedException e) {
      Log.i(e.getMessage());
    }
  }
  handler.sendEmptyMessage(MSG_RESTART_GEO_AND_DIR);
  handler.sendEmptyMessage(MSG_DONE);
}
