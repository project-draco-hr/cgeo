{
  removeGeoAndDir();
  final List<cgCache> cacheListTemp=new ArrayList<cgCache>(cacheList);
  final List<cgCache> weHaveStaticMaps=new ArrayList<cgCache>(cacheList.size());
  for (  cgCache cache : cacheListTemp) {
    if (checked > 0 && !cache.isStatusChecked()) {
      handler.sendEmptyMessage(0);
      yield();
      continue;
    }
    if (Settings.isStoreOfflineMaps() && StaticMapsProvider.hasStaticMapForCache(cache.getGeocode())) {
      weHaveStaticMaps.add(cache);
      continue;
    }
    try {
      refreshCache(cache);
    }
 catch (    InterruptedException e) {
      Log.i(e.getMessage());
    }
  }
  cacheListTemp.clear();
  for (  cgCache cache : weHaveStaticMaps) {
    try {
      refreshCache(cache);
    }
 catch (    InterruptedException e) {
      Log.i(e.getMessage());
    }
  }
  handler.sendEmptyMessage(MSG_RESTART_GEO_AND_DIR);
  handler.sendEmptyMessage(MSG_DONE);
}
