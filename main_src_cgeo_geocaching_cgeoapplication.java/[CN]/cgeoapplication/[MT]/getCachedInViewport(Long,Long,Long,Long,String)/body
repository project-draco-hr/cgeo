{
  cgSearch search=new cgSearch();
  List<String> geocodes=getStorage().getCachedInViewport(centerLat,centerLon,spanLat,spanLon,cachetype);
  if (geocodes != null && !geocodes.isEmpty()) {
    for (    String gccode : geocodes) {
      search.addGeocode(gccode);
    }
  }
  searches.put(search.getCurrentId(),search);
  return search.getCurrentId();
}
