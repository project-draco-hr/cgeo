{
  if (search == null) {
    Set<cgCache> cachesOut=new HashSet<cgCache>();
    final Set<cgCache> cachesPre=storage.loadCaches(null,centerLat,centerLon,spanLat,spanLon,loadFlags);
    if (cachesPre != null) {
      cachesOut.addAll(cachesPre);
    }
    return cachesOut;
  }
  Set<cgCache> cachesOut=new HashSet<cgCache>();
  final Set<String> geocodeList=search.getGeocodes();
  final Set<cgCache> cachesPre=storage.loadCaches(geocodeList.toArray(),null,null,null,null,loadFlags);
  if (cachesPre != null) {
    cachesOut.addAll(cachesPre);
  }
  return cachesOut;
}
