{
  if (CollectionUtils.isEmpty(geocodes)) {
    return new HashSet<cgCache>();
  }
  Set<cgCache> result=new HashSet<cgCache>();
  Set<String> remaining=new HashSet<String>(geocodes);
  if (loadFlags.contains(LoadFlag.LOADCACHEBEFORE)) {
    for (    String geocode : new HashSet<String>(remaining)) {
      cgCache cache=cacheCache.getCacheFromCache(geocode);
      if (cache != null) {
        result.add(cache);
        remaining.remove(cache.getGeocode());
      }
    }
  }
  if (loadFlags.contains(LoadFlag.LOADDBMINIMAL) || loadFlags.contains(LoadFlag.LOADATTRIBUTES) || loadFlags.contains(LoadFlag.LOADWAYPOINTS)|| loadFlags.contains(LoadFlag.LOADSPOILERS)|| loadFlags.contains(LoadFlag.LOADLOGS)|| loadFlags.contains(LoadFlag.LOADINVENTORY)|| loadFlags.contains(LoadFlag.LOADOFFLINELOG)) {
    Set<cgCache> cachesFromDB=loadCaches(remaining,null,null,null,null,loadFlags);
    if (cachesFromDB != null) {
      result.addAll(cachesFromDB);
      for (      cgCache cache : cachesFromDB) {
        remaining.remove(cache.getGeocode());
      }
    }
  }
  if (loadFlags.contains(LoadFlag.LOADCACHEAFTER)) {
    for (    String geocode : new HashSet<String>(remaining)) {
      cgCache cache=cacheCache.getCacheFromCache(geocode);
      if (cache != null) {
        result.add(cache);
        remaining.remove(cache.getGeocode());
      }
    }
  }
  if (remaining.size() >= 1) {
    Log.e(Settings.tag,"cgData.loadCaches(" + remaining.toString() + " failed");
  }
  return result;
}
