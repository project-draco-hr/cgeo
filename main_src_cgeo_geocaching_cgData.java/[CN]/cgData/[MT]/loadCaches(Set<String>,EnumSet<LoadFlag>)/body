{
  if (CollectionUtils.isEmpty(geocodes)) {
    return new HashSet<cgCache>();
  }
  Set<cgCache> result=new HashSet<cgCache>();
  Set<String> remaining=new HashSet<String>(geocodes);
  if (loadFlags.contains(LoadFlag.LOAD_CACHE_BEFORE)) {
    for (    String geocode : new HashSet<String>(remaining)) {
      cgCache cache=cacheCache.getCacheFromCache(geocode);
      if (cache != null) {
        result.add(cache);
        remaining.remove(cache.getGeocode());
      }
    }
  }
  if (loadFlags.contains(LoadFlag.LOAD_DB_MINIMAL) || loadFlags.contains(LoadFlag.LOAD_ATTRIBUTES) || loadFlags.contains(LoadFlag.LOAD_WAYPOINTS)|| loadFlags.contains(LoadFlag.LOAD_SPOILERS)|| loadFlags.contains(LoadFlag.LOAD_LOGS)|| loadFlags.contains(LoadFlag.LOAD_INVENTORY)|| loadFlags.contains(LoadFlag.LOAD_OFFLINE_LOG)) {
    final Set<cgCache> cachesFromDB=loadCachesFromGeocodes(remaining,loadFlags);
    result.addAll(cachesFromDB);
    for (    final cgCache cache : cachesFromDB) {
      remaining.remove(cache.getGeocode());
    }
  }
  if (loadFlags.contains(LoadFlag.LOAD_CACHE_AFTER)) {
    for (    String geocode : new HashSet<String>(remaining)) {
      cgCache cache=cacheCache.getCacheFromCache(geocode);
      if (cache != null) {
        result.add(cache);
        remaining.remove(cache.getGeocode());
      }
    }
  }
  if (remaining.size() >= 1) {
    Log.i("cgData.loadCaches(" + remaining.toString() + ") failed");
  }
  return result;
}
