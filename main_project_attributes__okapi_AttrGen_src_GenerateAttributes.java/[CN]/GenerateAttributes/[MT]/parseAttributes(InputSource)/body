{
  try {
    SAXParserFactory factory=SAXParserFactory.newInstance();
    SAXParser saxParser=factory.newSAXParser();
    DefaultHandler handler=new DefaultHandler(){
      AttrInfo attr;
      ArrayList<String> names;
      boolean readingName;
      public void startElement(      String uri,      String localName,      String qName,      Attributes attributes) throws SAXException {
        if (qName.equalsIgnoreCase("attr")) {
          attr=new AttrInfo();
          names=new ArrayList<String>();
        }
        if (attr != null && qName.equalsIgnoreCase("opencaching")) {
          if ("http://opencaching.de/".equalsIgnoreCase(attributes.getValue("site_url"))) {
            attr.oc_de_id=Integer.parseInt(attributes.getValue("id"));
          }
 else           if ("http://opencaching.pl/".equalsIgnoreCase(attributes.getValue("site_url"))) {
            attr.oc_pl_id=Integer.parseInt(attributes.getValue("id"));
          }
        }
        if (names != null && qName.equalsIgnoreCase("name")) {
          readingName=true;
        }
      }
      public void endElement(      String uri,      String localName,      String qName) throws SAXException {
        if (attr != null && qName.equalsIgnoreCase("attr")) {
          attr.names=names.toArray(new String[]{});
          names=null;
          writeAttr(attr);
          attr=null;
        }
        readingName=false;
      }
      public void characters(      char ch[],      int start,      int length) throws SAXException {
        if (readingName) {
          names.add(new String(ch,start,length));
        }
      }
    }
;
    saxParser.parse(stream,handler);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
