{
  final Parameters params=new Parameters("fields",USER_INFO_FIELDS);
  final JSONResult result=request(connector,OkapiService.SERVICE_USER,params);
  if (!result.isSuccess) {
    final OkapiError error=new OkapiError(result.data);
    Log.e("OkapiClient.getUserInfo: error getting user info: '" + error.getMessage() + "'");
    return new UserInfo(StringUtils.EMPTY,0,UserInfoStatus.getFromOkapiError(error.getResult()));
  }
  JSONObject data=result.data;
  String name=StringUtils.EMPTY;
  boolean successUserName=false;
  if (!data.isNull(USER_USERNAME)) {
    try {
      name=data.getString(USER_USERNAME);
      successUserName=true;
    }
 catch (    final JSONException e) {
      Log.e("OkapiClient.getUserInfo - name",e);
    }
  }
  int finds=0;
  boolean successFinds=false;
  if (!data.isNull(USER_CACHES_FOUND)) {
    try {
      finds=data.getInt(USER_CACHES_FOUND);
      successFinds=true;
    }
 catch (    final JSONException e) {
      Log.e("OkapiClient.getUserInfo - finds",e);
    }
  }
  return new UserInfo(name,finds,successUserName && successFinds ? UserInfoStatus.SUCCESSFUL : UserInfoStatus.FAILED);
}
