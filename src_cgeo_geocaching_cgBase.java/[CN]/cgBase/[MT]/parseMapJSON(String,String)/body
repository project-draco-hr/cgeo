{
  if (StringUtils.isEmpty(data)) {
    Log.e(cgSettings.tag,"cgeoBase.parseMapJSON: No page given");
    return null;
  }
  final cgCacheWrap caches=new cgCacheWrap();
  caches.url=url;
  try {
    final JSONObject yoDawg=new JSONObject(data);
    final String json=yoDawg.getString("d");
    if (StringUtils.isBlank(json)) {
      Log.e(cgSettings.tag,"cgeoBase.parseMapJSON: No JSON inside JSON");
      return null;
    }
    final JSONObject dataJSON=new JSONObject(json);
    final JSONObject extra=dataJSON.getJSONObject("cs");
    if (extra != null && extra.length() > 0) {
      int count=extra.getInt("count");
      if (count > 0 && extra.has("cc")) {
        final JSONArray cachesData=extra.getJSONArray("cc");
        if (cachesData != null && cachesData.length() > 0) {
          JSONObject oneCache=null;
          for (int i=0; i < count; i++) {
            oneCache=cachesData.getJSONObject(i);
            if (oneCache == null) {
              break;
            }
            final cgCache cacheToAdd=new cgCache();
            cacheToAdd.reliableLatLon=false;
            cacheToAdd.geocode=oneCache.getString("gc");
            cacheToAdd.latitude=oneCache.getDouble("lat");
            cacheToAdd.longitude=oneCache.getDouble("lon");
            cacheToAdd.name=oneCache.getString("nn");
            cacheToAdd.found=oneCache.getBoolean("f");
            cacheToAdd.own=oneCache.getBoolean("o");
            cacheToAdd.disabled=!oneCache.getBoolean("ia");
            int ctid=oneCache.getInt("ctid");
            if (ctid == 2) {
              cacheToAdd.type="traditional";
            }
 else             if (ctid == 3) {
              cacheToAdd.type="multi";
            }
 else             if (ctid == 4) {
              cacheToAdd.type="virtual";
            }
 else             if (ctid == 5) {
              cacheToAdd.type="letterbox";
            }
 else             if (ctid == 6) {
              cacheToAdd.type="event";
            }
 else             if (ctid == 8) {
              cacheToAdd.type="mystery";
            }
 else             if (ctid == 11) {
              cacheToAdd.type="webcam";
            }
 else             if (ctid == 13) {
              cacheToAdd.type="cito";
            }
 else             if (ctid == 137) {
              cacheToAdd.type="earth";
            }
 else             if (ctid == 453) {
              cacheToAdd.type="mega";
            }
 else             if (ctid == 1858) {
              cacheToAdd.type="wherigo";
            }
 else             if (ctid == 3653) {
              cacheToAdd.type="lost";
            }
            caches.cacheList.add(cacheToAdd);
          }
        }
      }
 else {
        Log.w(cgSettings.tag,"There are no caches in viewport");
      }
      caches.totalCnt=caches.cacheList.size();
    }
  }
 catch (  Exception e) {
    Log.e(cgSettings.tag,"cgBase.parseMapJSON: " + e.toString());
  }
  return caches;
}
