{
  if (app == null) {
    Log.e(cgSettings.tag,"cgeoBase.searchByHistory: No application found");
    return null;
  }
  String cachetype=null;
  if (parameters.containsKey("cachetype")) {
    cachetype=(String)parameters.get("cachetype");
  }
  final cgSearch search=app.getHistoryOfCaches(true,cachetype);
  search.totalCnt=app.getAllHistoricCachesCount(true,cachetype);
  return search.getCurrentId();
}
