{
  if (app == null) {
    Log.e(cgSettings.tag,"cgeoBase.searchByOffline: No application found");
    return null;
  }
  Double latitude=null;
  Double longitude=null;
  String cachetype=null;
  Integer list=1;
  if (parameters.containsKey("latitude") == true && parameters.containsKey("longitude") == true) {
    latitude=(Double)parameters.get("latitude");
    longitude=(Double)parameters.get("longitude");
  }
  if (parameters.containsKey("cachetype") == true) {
    cachetype=(String)parameters.get("cachetype");
  }
  if (parameters.containsKey("list") == true) {
    list=(Integer)parameters.get("list");
  }
  final cgSearch search=app.getBatchOfStoredCaches(true,latitude,longitude,cachetype,list);
  search.totalCnt=app.getAllStoredCachesCount(true,cachetype,list);
  return search.getCurrentId();
}
