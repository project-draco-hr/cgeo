{
  super.onCreate(savedInstanceState);
  activity=this;
  app=(cgeoapplication)this.getApplication();
  res=this.getResources();
  settings=new cgSettings(activity,activity.getSharedPreferences(cgSettings.preferences,0));
  prefs=getSharedPreferences(cgSettings.preferences,0);
  base=new cgBase(app,settings,activity.getSharedPreferences(cgSettings.preferences,0));
  warning=new cgWarning(activity);
  if (settings.skin == 1) {
    setTheme(R.style.light);
  }
 else {
    setTheme(R.style.dark);
  }
  setContentView(R.layout.point);
  base.setTitle(activity,res.getString(R.string.search_destination));
  tracker=GoogleAnalyticsTracker.getInstance();
  tracker.start(cgSettings.analytics,this);
  tracker.dispatch();
  base.sendAnal(activity,tracker,"/point");
  historyListView=(ListView)findViewById(R.id.historyList);
  View pointControls=getLayoutInflater().inflate(R.layout.point_controls,null);
  historyListView.addHeaderView(pointControls);
  if (getHistoryOfSearchedLocations().isEmpty()) {
    historyListView.addFooterView(getEmptyHistoryFooter(),null,false);
  }
  historyListView.setAdapter(getDestionationHistoryAdapter());
  historyListView.setOnItemClickListener(new OnItemClickListener(){
    @Override public void onItemClick(    AdapterView<?> arg0,    View arg1,    int arg2,    long arg3){
      Object selection=arg0.getItemAtPosition(arg2);
      if (selection instanceof cgDestination) {
        List<Double> coords=new ArrayList<Double>(2);
        coords.add(((cgDestination)selection).getLatitude());
        coords.add(((cgDestination)selection).getLongitude());
        navigateTo(coords);
      }
    }
  }
);
  init();
}
