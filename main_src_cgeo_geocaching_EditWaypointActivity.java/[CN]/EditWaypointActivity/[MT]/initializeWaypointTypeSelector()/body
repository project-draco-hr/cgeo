{
  final ArrayAdapter<WaypointType> wpAdapter=new ArrayAdapter<>(this,android.R.layout.simple_spinner_item,POSSIBLE_WAYPOINT_TYPES.toArray(new WaypointType[POSSIBLE_WAYPOINT_TYPES.size()]));
  wpAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
  waypointTypeSelector.setAdapter(wpAdapter);
  waypointTypeSelector.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener(){
    @Override public void onItemSelected(    final AdapterView<?> parent,    final View v,    final int pos,    final long id){
      final String oldDefaultName=waypointTypeSelectorPosition >= 0 ? getDefaultWaypointName(POSSIBLE_WAYPOINT_TYPES.get(waypointTypeSelectorPosition)) : StringUtils.EMPTY;
      waypointTypeSelectorPosition=pos;
      final String currentName=waypointName.getText().toString().trim();
      if (StringUtils.isBlank(currentName) || oldDefaultName.equals(currentName)) {
        waypointName.setText(getDefaultWaypointName(getSelectedWaypointType()));
      }
    }
    @Override public void onNothingSelected(    final AdapterView<?> parent){
    }
  }
);
  waypointTypeSelector.setSelection(getDefaultWaypointType());
  waypointTypeSelector.setVisibility(View.VISIBLE);
}
