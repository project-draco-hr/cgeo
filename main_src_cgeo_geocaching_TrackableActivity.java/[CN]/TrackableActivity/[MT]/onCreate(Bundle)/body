{
  super.onCreate(savedInstanceState,R.layout.viewpager_activity);
  setTitle(res.getString(R.string.trackable));
  final Bundle extras=getIntent().getExtras();
  final Uri uri=getIntent().getData();
  if (extras != null) {
    geocode=extras.getString(Intents.EXTRA_GEOCODE);
    name=extras.getString(Intents.EXTRA_NAME);
    guid=extras.getString(Intents.EXTRA_GUID);
    id=extras.getString(Intents.EXTRA_ID);
  }
  if (geocode == null && guid == null && id == null && uri != null) {
    geocode=ConnectorFactory.getTrackableFromURL(uri.toString());
    final String uriHost=uri.getHost().toLowerCase(Locale.US);
    if (uriHost.contains("geocaching.com")) {
      geocode=uri.getQueryParameter("tracker");
      guid=uri.getQueryParameter("guid");
      id=uri.getQueryParameter("id");
      if (StringUtils.isNotBlank(geocode)) {
        geocode=geocode.toUpperCase(Locale.US);
        guid=null;
        id=null;
      }
 else       if (StringUtils.isNotBlank(guid)) {
        geocode=null;
        guid=guid.toLowerCase(Locale.US);
        id=null;
      }
 else       if (StringUtils.isNotBlank(id)) {
        geocode=null;
        guid=null;
        id=id.toLowerCase(Locale.US);
      }
 else {
        showToast(res.getString(R.string.err_tb_details_open));
        finish();
        return;
      }
    }
 else     if (uriHost.contains("coord.info")) {
      final String uriPath=uri.getPath().toLowerCase(Locale.US);
      if (StringUtils.startsWith(uriPath,"/tb")) {
        geocode=uriPath.substring(1).toUpperCase(Locale.US);
        guid=null;
        id=null;
      }
 else {
        showToast(res.getString(R.string.err_tb_details_open));
        finish();
        return;
      }
    }
  }
  if (geocode == null && guid == null && id == null) {
    showToast(res.getString(R.string.err_tb_display));
    finish();
    return;
  }
  String message;
  if (StringUtils.isNotBlank(name)) {
    message=Html.fromHtml(name).toString();
  }
 else   if (StringUtils.isNotBlank(geocode)) {
    message=geocode;
  }
 else {
    message=res.getString(R.string.trackable);
  }
  waitDialog=ProgressDialog.show(this,message,res.getString(R.string.trackable_details_loading),true,true);
  initializeAndroidBeam(this);
  createViewPager(0,null);
  final LoadTrackableThread thread=new LoadTrackableThread(loadTrackableHandler,geocode,guid,id);
  thread.start();
}
