{
  try {
    if (StringUtils.isBlank(getPersonalNote())) {
      return;
    }
    final Pattern coordPattern=Pattern.compile("\\b[nNsS]{1}\\s*\\d");
    int count=1;
    String note=getPersonalNote();
    Matcher matcher=coordPattern.matcher(note);
    while (matcher.find()) {
      try {
        final Geopoint point=GeopointParser.parse(note.substring(matcher.start()));
        if (point != null && point.getLatitudeE6() != 0 && point.getLongitudeE6() != 0 && ((point.getLatitudeE6() % 1000) != 0 || (point.getLongitudeE6() % 1000) != 0)) {
          final String name=cgeoapplication.getInstance().getString(R.string.cache_personal_note) + " " + count;
          final cgWaypoint waypoint=new cgWaypoint(name,WaypointType.WAYPOINT,false);
          waypoint.setCoords(point);
          addWaypoint(waypoint,false);
          count++;
        }
      }
 catch (      GeopointParser.ParseException e) {
      }
      note=note.substring(matcher.start() + 1);
      matcher=coordPattern.matcher(note);
    }
  }
 catch (  Exception e) {
    Log.e(Settings.tag,"cgCache.parseWaypointsFromNote: " + e.toString());
  }
}
