{
  if (!isValidWaypointIndex(index)) {
    return false;
  }
  final cgWaypoint waypoint=waypoints.get(index);
  if (waypoint.isUserDefined()) {
    waypoints.remove(index);
    cgeoapplication.getInstance().deleteWaypoint(waypoint.getId());
    cgeoapplication.getInstance().removeCache(geocode,EnumSet.of(RemoveFlag.REMOVECACHE));
    if (isFinalWithCoords(waypoint)) {
      finalDefined=false;
      for (      cgWaypoint wp : waypoints) {
        if (isFinalWithCoords(wp)) {
          finalDefined=true;
        }
      }
    }
    return true;
  }
  return false;
}
