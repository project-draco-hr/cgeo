{
  app.clearLogOffline(geocode);
  if (alreadyFound) {
    typeSelected=cgBase.LOG_NOTE;
  }
 else {
    typeSelected=types.get(0);
  }
  date.setTime(new Date());
  text=null;
  setType(typeSelected);
  Button dateButton=(Button)findViewById(R.id.date);
  dateButton.setText(base.formatShortDate(date.getTime().getTime()));
  dateButton.setOnClickListener(new cgeovisitDateListener());
  EditText logView=(EditText)findViewById(R.id.log);
  if (StringUtils.isNotBlank(text)) {
    logView.setText(text);
  }
 else {
    logView.setText("");
  }
  if (clear == null) {
    clear=(Button)findViewById(R.id.clear);
  }
  clear.setOnClickListener(new clearListener());
  showToast(res.getString(R.string.info_log_cleared));
}
