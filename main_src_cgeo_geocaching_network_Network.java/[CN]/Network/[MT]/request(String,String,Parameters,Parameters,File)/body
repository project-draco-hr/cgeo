{
  final Builder builder=new Builder();
  if (method.equals("GET")) {
    final String fullUri=params == null ? uri : Uri.parse(uri).buildUpon().encodedQuery(params.toString()).build().toString();
    builder.url(fullUri);
  }
 else {
    builder.url(uri);
    if (params != null) {
      final FormBody.Builder body=new FormBody.Builder();
      for (      final ImmutablePair<String,String> param : params) {
        body.add(param.left,param.right);
      }
      builder.post(body.build());
    }
 else {
      builder.post(null);
    }
  }
  addHeaders(builder,headers,cacheFile);
  return RxOkHttpUtils.request(OK_HTTP_CLIENT,builder.build());
}
