{
  if (cache == null || cache.getCoords() == null) {
    return null;
  }
  final Location loc=new Location("cgeo");
  loc.setLatitude(cache.getCoords().getLatitude());
  loc.setLongitude(cache.getCoords().getLongitude());
  final Point p=new Point(cache.getName(),loc);
  final PointGeocachingData pg=new PointGeocachingData();
  p.setGeocachingData(pg);
  pg.cacheID=cache.getGeocode();
  pg.available=!cache.isDisabled();
  pg.archived=cache.isArchived();
  pg.premiumOnly=cache.isPremiumMembersOnly();
  pg.name=cache.getName();
  pg.placedBy=cache.getOwnerDisplayName();
  final Date hiddenDate=cache.getHiddenDate();
  if (hiddenDate != null) {
    pg.hidden=ISO8601DATE.format(hiddenDate);
  }
  int locusId=toLocusType(cache.getType());
  if (locusId != NO_LOCUS_ID) {
    pg.type=locusId;
  }
  locusId=toLocusSize(cache.getSize());
  if (locusId != NO_LOCUS_ID) {
    pg.container=locusId;
  }
  if (cache.getDifficulty() > 0) {
    pg.difficulty=cache.getDifficulty();
  }
  if (cache.getTerrain() > 0) {
    pg.terrain=cache.getTerrain();
  }
  pg.found=cache.isFound();
  if (withWaypoints && cache.hasWaypoints()) {
    pg.waypoints=new ArrayList<>();
    for (    final Waypoint waypoint : cache.getWaypoints()) {
      if (waypoint == null || waypoint.getCoords() == null) {
        continue;
      }
      final PointGeocachingDataWaypoint wp=new PointGeocachingDataWaypoint();
      wp.code=waypoint.getGeocode();
      wp.name=waypoint.getName();
      final String locusWpId=toLocusWaypoint(waypoint.getWaypointType());
      if (locusWpId != null) {
        wp.type=locusWpId;
      }
      wp.lat=waypoint.getCoords().getLatitude();
      wp.lon=waypoint.getCoords().getLongitude();
      pg.waypoints.add(wp);
    }
  }
  if (withCacheDetails) {
    pg.shortDescription=cache.getShortDescription();
    pg.longDescription=cache.getDescription();
    pg.encodedHints=cache.getHint();
  }
  return p;
}
