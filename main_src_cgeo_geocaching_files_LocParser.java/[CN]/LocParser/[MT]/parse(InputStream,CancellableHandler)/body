{
  String streamContent=readStream(stream,progressHandler).toString();
  final Map<String,cgCache> coords=parseCoordinates(streamContent);
  final List<cgCache> caches=new ArrayList<cgCache>();
  for (  Entry<String,cgCache> entry : coords.entrySet()) {
    cgCache coord=entry.getValue();
    if (StringUtils.isBlank(coord.getGeocode()) || StringUtils.isBlank(coord.getName())) {
      continue;
    }
    cgCache cache=new cgCache();
    cache.setReliableLatLon(true);
    copyCoordToCache(coord,cache);
    caches.add(cache);
    fixCache(cache);
    cache.setType(CacheType.UNKNOWN);
    cache.setListId(listId);
    cache.setDetailed(true);
  }
  Log.i(Settings.tag,"Caches found in .loc file: " + caches.size());
  return caches;
}
