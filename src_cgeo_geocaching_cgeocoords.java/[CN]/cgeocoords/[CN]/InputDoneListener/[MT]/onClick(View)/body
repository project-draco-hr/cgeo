{
  if (currentFormat == coordInputFormatEnum.Plain) {
    if (eLat.length() > 0 && eLon.length() > 0) {
      Map<String,Object> latParsed=cgBase.parseCoordinate(eLat.getText().toString(),"lat");
      Map<String,Object> lonParsed=cgBase.parseCoordinate(eLon.getText().toString(),"lon");
      if (latParsed == null || latParsed.get("coordinate") == null || latParsed.get("string") == null) {
        context.showToast(context.getResources().getString(R.string.err_parse_lat));
        return;
      }
      if (lonParsed == null || lonParsed.get("coordinate") == null || lonParsed.get("string") == null) {
        context.showToast(context.getResources().getString(R.string.err_parse_lon));
        return;
      }
      coords=new Geopoint((Double)latParsed.get("coordinate"),(Double)lonParsed.get("coordinate"));
    }
 else {
      if (geo == null || geo.coordsNow == null) {
        context.showToast(context.getResources().getString(R.string.err_point_curr_position_unavailable));
        return;
      }
      coords=geo.coordsNow;
    }
  }
  cuListener.update(coords);
  dismiss();
}
