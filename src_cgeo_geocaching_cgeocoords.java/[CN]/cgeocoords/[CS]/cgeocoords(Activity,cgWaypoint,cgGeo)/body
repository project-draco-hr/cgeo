{
  super(contextIn);
  context=contextIn;
  warning=new cgWarning(context);
  geo=geoIn;
  settings=new cgSettings(contextIn,contextIn.getSharedPreferences(cgSettings.preferences,0));
  base=new cgBase((cgeoapplication)contextIn.getApplication(),settings,contextIn.getSharedPreferences(cgSettings.preferences,0));
  if (waypoint != null) {
    latitude=waypoint.latitude;
    longitude=waypoint.longitude;
  }
 else   if (geo != null && geo.latitudeNow != null && geo.longitudeNow != null) {
    latitude=geo.latitudeNow;
    longitude=geo.longitudeNow;
  }
}
