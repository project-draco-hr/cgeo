{
  getDialog().setTitle(R.string.cache_coordinates);
  final View v=inflater.inflate(R.layout.coordinatesinput_dialog,container,false);
  final Spinner spinner=ButterKnife.findById(v,R.id.spinnerCoordinateFormats);
  final ArrayAdapter<CharSequence> adapter=ArrayAdapter.createFromResource(getActivity(),R.array.waypoint_coordinate_formats,android.R.layout.simple_spinner_item);
  adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
  spinner.setAdapter(adapter);
  spinner.setSelection(Settings.getCoordInputFormat().ordinal());
  spinner.setOnItemSelectedListener(new CoordinateFormatListener());
  bLat=ButterKnife.findById(v,R.id.ButtonLat);
  eLat=ButterKnife.findById(v,R.id.latitude);
  eLatDeg=ButterKnife.findById(v,R.id.EditTextLatDeg);
  eLatMin=ButterKnife.findById(v,R.id.EditTextLatMin);
  eLatSec=ButterKnife.findById(v,R.id.EditTextLatSec);
  eLatSub=ButterKnife.findById(v,R.id.EditTextLatSecFrac);
  tLatSep1=ButterKnife.findById(v,R.id.LatSeparator1);
  tLatSep2=ButterKnife.findById(v,R.id.LatSeparator2);
  tLatSep3=ButterKnife.findById(v,R.id.LatSeparator3);
  bLon=ButterKnife.findById(v,R.id.ButtonLon);
  eLon=ButterKnife.findById(v,R.id.longitude);
  eLonDeg=ButterKnife.findById(v,R.id.EditTextLonDeg);
  eLonMin=ButterKnife.findById(v,R.id.EditTextLonMin);
  eLonSec=ButterKnife.findById(v,R.id.EditTextLonSec);
  eLonSub=ButterKnife.findById(v,R.id.EditTextLonSecFrac);
  tLonSep1=ButterKnife.findById(v,R.id.LonSeparator1);
  tLonSep2=ButterKnife.findById(v,R.id.LonSeparator2);
  tLonSep3=ButterKnife.findById(v,R.id.LonSeparator3);
  eLatDeg.addTextChangedListener(new TextChanged(eLatDeg));
  eLatMin.addTextChangedListener(new TextChanged(eLatMin));
  eLatSec.addTextChangedListener(new TextChanged(eLatSec));
  eLatSub.addTextChangedListener(new TextChanged(eLatSub));
  eLonDeg.addTextChangedListener(new TextChanged(eLonDeg));
  eLonMin.addTextChangedListener(new TextChanged(eLonMin));
  eLonSec.addTextChangedListener(new TextChanged(eLonSec));
  eLonSub.addTextChangedListener(new TextChanged(eLonSub));
  EditUtils.disableSuggestions(eLatDeg);
  EditUtils.disableSuggestions(eLatMin);
  EditUtils.disableSuggestions(eLatSec);
  EditUtils.disableSuggestions(eLatSub);
  EditUtils.disableSuggestions(eLonDeg);
  EditUtils.disableSuggestions(eLonMin);
  EditUtils.disableSuggestions(eLonSec);
  EditUtils.disableSuggestions(eLonSub);
  bLat.setOnClickListener(new ButtonClickListener());
  bLon.setOnClickListener(new ButtonClickListener());
  final Button buttonCurrent=ButterKnife.findById(v,R.id.current);
  buttonCurrent.setOnClickListener(new CurrentListener());
  final Button buttonCache=ButterKnife.findById(v,R.id.cache);
  if (cacheCoords != null) {
    buttonCache.setOnClickListener(new CacheListener());
  }
 else {
    buttonCache.setVisibility(View.GONE);
  }
  if (hasClipboardCoordinates()) {
    final Button buttonClipboard=ButterKnife.findById(v,R.id.clipboard);
    buttonClipboard.setOnClickListener(new ClipboardListener());
    buttonClipboard.setVisibility(View.VISIBLE);
  }
  final Button buttonDone=ButterKnife.findById(v,R.id.done);
  buttonDone.setOnClickListener(new InputDoneListener());
  return v;
}
