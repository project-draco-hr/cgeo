{
  final String latlonMap=cache.getCoords().format(Format.LAT_LON_DECDEGREE_COMMA);
  final StringBuilder waypoints=new StringBuilder();
  if (cache.hasWaypoints()) {
    for (    cgWaypoint waypoint : cache.getWaypoints()) {
      if (waypoint.getCoords() == null) {
        continue;
      }
      String wpMarkerUrl=getWpMarkerUrl(waypoint);
      waypoints.append("&markers=icon%3A");
      waypoints.append(wpMarkerUrl);
      waypoints.append("%7C");
      waypoints.append(waypoint.getCoords().format(Format.LAT_LON_DECDEGREE_COMMA));
    }
  }
  final String cacheMarkerUrl=getCacheMarkerUrl(cache);
  downloadMaps(cache,cacheMarkerUrl,"",latlonMap,edge,waypoints.toString());
}
