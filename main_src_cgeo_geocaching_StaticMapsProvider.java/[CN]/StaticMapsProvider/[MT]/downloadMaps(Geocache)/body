{
  if (cache == null) {
    Log.e("downloadMaps - missing input parameter cache");
    return;
  }
  if ((!Settings.isStoreOfflineMaps() && !Settings.isStoreOfflineWpMaps()) || StringUtils.isBlank(cache.getGeocode())) {
    return;
  }
  int edge=guessMaxDisplaySide();
  if (Settings.isStoreOfflineMaps() && cache.getCoords() != null) {
    storeCachePreviewMap(cache);
    storeCacheStaticMap(cache,edge,false);
  }
  if (Settings.isStoreOfflineWpMaps() && CollectionUtils.isNotEmpty(cache.getWaypoints())) {
    LocalStorage.deleteFilesWithPrefix(cache.getGeocode(),MAP_FILENAME_PREFIX + WAYPOINT_PREFIX);
    for (    Waypoint waypoint : cache.getWaypoints()) {
      storeWaypointStaticMap(cache.getGeocode(),edge,waypoint,false);
    }
  }
}
