{
  if (mapSource.isGoogleMapSource()) {
    if (!mapSourceUsed.isGoogleMapSource() || mapFactory == null) {
      mapFactory=new googleMapFactory();
      mapSourceUsed=mapSource;
    }
  }
 else   if (!mapSource.isGoogleMapSource()) {
    if (mapSourceUsed.isGoogleMapSource() || mapFactory == null) {
      mapFactory=new mfMapFactory();
      mapSourceUsed=mapSource;
    }
  }
  return mapFactory;
}
