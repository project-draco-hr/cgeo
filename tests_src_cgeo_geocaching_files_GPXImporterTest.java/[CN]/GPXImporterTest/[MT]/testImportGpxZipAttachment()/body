{
  Uri uri=Uri.parse("android.resource://cgeo.geocaching.test/raw/pq7545915");
  GPXImporter.ImportGpxZipAttachmentThread importThread=new GPXImporter.ImportGpxZipAttachmentThread(uri,getInstrumentation().getContext().getContentResolver(),listId,importStepHandler,progressHandler);
  runImportThread(importThread);
  assertImportStepMessages(GPXImporter.IMPORT_STEP_START,GPXImporter.IMPORT_STEP_READ_FILE,GPXImporter.IMPORT_STEP_READ_WPT_FILE,GPXImporter.IMPORT_STEP_STORE_CACHES,GPXImporter.IMPORT_STEP_FINISHED);
  SearchResult search=(SearchResult)importStepHandler.messages.get(4).obj;
  assertEquals(Collections.singletonList("GC31J2H"),search.getGeocodes());
  cgCache cache=cgeoapplication.getInstance().getCacheByGeocode("GC31J2H");
  assertCacheProperties(cache);
  assertEquals(1,cache.getWaypoints().size());
}
