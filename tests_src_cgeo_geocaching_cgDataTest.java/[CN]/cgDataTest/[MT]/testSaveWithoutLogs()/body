{
  cgeoapplication app=cgeoapplication.getInstance();
  final String GEOCODE_CACHE="TEST";
  final cgCache cache=new cgCache();
  cache.setGeocode(GEOCODE_CACHE);
  cache.setDetailed(true);
  final cgTrackable trackable=new cgTrackable();
  trackable.setLogs(null);
  final List<cgTrackable> inventory=new ArrayList<cgTrackable>();
  inventory.add(trackable);
  cache.setInventory(inventory);
  try {
    app.saveCache(cache,EnumSet.of(SaveFlag.SAVE_DB));
    final cgCache loadedCache=app.loadCache(GEOCODE_CACHE,LoadFlags.LOAD_ALL_DB_ONLY);
    assertNotNull("Cache was not saved!",loadedCache);
    assertEquals(1,loadedCache.getInventory().size());
  }
  finally {
    app.removeCache(GEOCODE_CACHE,LoadFlags.REMOVE_ALL);
  }
}
