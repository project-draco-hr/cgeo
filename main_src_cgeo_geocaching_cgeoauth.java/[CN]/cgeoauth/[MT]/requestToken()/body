{
  final String host="twitter.com";
  final String pathRequest="/oauth/request_token";
  final String pathAuthorize="/oauth/authorize";
  final String method="GET";
  int status=0;
  try {
    final Parameters params=new Parameters();
    OAuth.signOAuth(host,pathRequest,method,true,params,null,null);
    final String line=cgBase.getResponseData(cgBase.request("https://" + host + pathRequest,params,false));
    if (StringUtils.isNotBlank(line)) {
      final Matcher paramsMatcher1=paramsPattern1.matcher(line);
      if (paramsMatcher1.find()) {
        OAtoken=paramsMatcher1.group(1);
      }
      final Matcher paramsMatcher2=paramsPattern2.matcher(line);
      if (paramsMatcher2.find()) {
        OAtokenSecret=paramsMatcher2.group(1);
      }
      if (StringUtils.isNotBlank(OAtoken) && StringUtils.isNotBlank(OAtokenSecret)) {
        final SharedPreferences.Editor prefsEdit=getSharedPreferences(Settings.preferences,0).edit();
        prefsEdit.putString("temp-token-public",OAtoken);
        prefsEdit.putString("temp-token-secret",OAtokenSecret);
        prefsEdit.commit();
        try {
          final Parameters paramsBrowser=new Parameters();
          paramsBrowser.put("oauth_callback","oob");
          OAuth.signOAuth(host,pathAuthorize,"GET",true,paramsBrowser,OAtoken,OAtokenSecret);
          final String encodedParams=EntityUtils.toString(new UrlEncodedFormEntity(paramsBrowser));
          startActivity(new Intent(Intent.ACTION_VIEW,Uri.parse("https://" + host + pathAuthorize+ "?"+ encodedParams)));
          status=1;
        }
 catch (        Exception e) {
          Log.e(Settings.tag,"cgeoauth.requestToken(2): " + e.toString());
        }
      }
    }
  }
 catch (  Exception e) {
    Log.e(Settings.tag,"cgeoauth.requestToken(1): " + e.toString());
  }
  requestTokenHandler.sendEmptyMessage(status);
}
