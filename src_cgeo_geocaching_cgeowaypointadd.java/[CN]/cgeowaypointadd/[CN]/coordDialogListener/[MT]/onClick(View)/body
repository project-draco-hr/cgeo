{
  Geopoint gp=null;
  if (waypoint != null && waypoint.latitude != null && waypoint.longitude != null)   gp=new Geopoint(waypoint.latitude,waypoint.longitude);
  cgeocoords coordsDialog=new cgeocoords(cgeowaypointadd.this,settings,gp,geo);
  coordsDialog.setCancelable(true);
  coordsDialog.setOnCoordinateUpdate(new cgeocoords.CoordinateUpdate(){
    @Override public void update(    Geopoint gp){
      ((Button)findViewById(R.id.buttonLatitude)).setText(cgBase.formatCoordinate(gp.getLatitude(),"lat",true));
      ((Button)findViewById(R.id.buttonLongitude)).setText(cgBase.formatCoordinate(gp.getLongitude(),"lon",true));
      if (waypoint != null) {
        waypoint.latitude=gp.getLatitude();
        waypoint.longitude=gp.getLongitude();
      }
    }
  }
);
  coordsDialog.show();
}
