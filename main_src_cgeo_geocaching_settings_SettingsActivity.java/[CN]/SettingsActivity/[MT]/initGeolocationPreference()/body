{
  final Preference p=getPreference(R.string.pref_googleplayservices);
  final Preference p2=getPreference(R.string.pref_lowpowermode);
  p.setOnPreferenceChangeListener(new OnPreferenceChangeListener(){
    @Override public boolean onPreferenceChange(    final Preference preference,    final Object newValue){
      final boolean useGooglePlayServices=(Boolean)newValue;
      p2.setEnabled(useGooglePlayServices);
      CgeoApplication.getInstance().setupGeoDataObservables(useGooglePlayServices,Settings.useLowPowerMode());
      return true;
    }
  }
);
  p2.setOnPreferenceChangeListener(new OnPreferenceChangeListener(){
    @Override public boolean onPreferenceChange(    final Preference preference,    final Object newValue){
      CgeoApplication.getInstance().setupGeoDataObservables(Settings.useGooglePlayServices(),(Boolean)newValue);
      return true;
    }
  }
);
  p.setEnabled(CgeoApplication.getInstance().isGooglePlayServicesAvailable());
  p2.setEnabled(Settings.useGooglePlayServices());
}
