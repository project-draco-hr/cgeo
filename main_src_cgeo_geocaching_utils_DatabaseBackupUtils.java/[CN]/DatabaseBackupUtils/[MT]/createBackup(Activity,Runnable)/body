{
  final Context context=activity;
  if (cgData.getAllCachesCount() == 0) {
    ActivityMixin.helpDialog(activity,context.getString(R.string.init_backup),context.getString(R.string.init_backup_unnecessary));
    return false;
  }
  final ProgressDialog dialog=ProgressDialog.show(context,context.getString(R.string.init_backup),context.getString(R.string.init_backup_running),true,false);
  new Thread(){
    @Override public void run(){
      final String backupFileName=cgData.backupDatabaseInternal();
      activity.runOnUiThread(new Runnable(){
        @Override public void run(){
          dialog.dismiss();
          ActivityMixin.helpDialog(activity,context.getString(R.string.init_backup_backup),backupFileName != null ? context.getString(R.string.init_backup_success) + "\n" + backupFileName : context.getString(R.string.init_backup_failed));
          if (runAfterwards != null) {
            runAfterwards.run();
          }
        }
      }
);
    }
  }
.start();
  return true;
}
