{
  while (!stop) {
    try {
      sleep(250);
      if (mapView != null) {
        final Viewport viewportNow=mapView.getViewport();
        final int zoomNow=mapView.getMapZoomLevel();
        boolean moved=false;
        if (liveChanged) {
          moved=true;
        }
 else         if (isLiveEnabled && !downloaded) {
          moved=true;
        }
 else         if (viewport == null) {
          moved=true;
        }
 else         if (zoomNow != zoom) {
          moved=true;
        }
 else         if (mapMoved(viewport,viewportNow) && (cachesCnt <= 0 || CollectionUtils.isEmpty(caches) || !viewport.includes(viewportNow))) {
          moved=true;
        }
        if (moved || zoomNow != zoom || !viewportNow.equals(viewport)) {
          displayHandler.sendEmptyMessage(UPDATE_TITLE);
        }
        zoom=zoomNow;
        if (moved) {
          liveChanged=false;
          long currentTime=System.currentTimeMillis();
          if (1000 < (currentTime - loadThreadRun)) {
            viewport=viewportNow;
            loadExecutor.execute(new LoadRunnable(viewport));
          }
        }
      }
      yield();
    }
 catch (    Exception e) {
      Log.w("cgeomap.LoadTimer.run",e);
    }
  }
}
