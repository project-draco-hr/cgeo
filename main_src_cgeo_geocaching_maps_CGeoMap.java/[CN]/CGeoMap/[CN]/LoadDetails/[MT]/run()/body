{
  if (CollectionUtils.isEmpty(geocodes)) {
    return;
  }
  if (dir != null) {
    dir=app.removeDir();
  }
  if (geo != null) {
    geo=app.removeGeo();
  }
  for (  String geocode : geocodes) {
    try {
      if (handler.isCancelled()) {
        break;
      }
      if (!app.isOffline(geocode,null)) {
        if ((System.currentTimeMillis() - last) < 1500) {
          try {
            int delay=1000 + (int)(Math.random() * 1000.0) - (int)(System.currentTimeMillis() - last);
            if (delay < 0) {
              delay=500;
            }
            sleep(delay);
          }
 catch (          Exception e) {
          }
        }
        if (handler.isCancelled()) {
          Log.i(Settings.tag,"Stopped storing process.");
          break;
        }
        cgBase.storeCache(activity,null,geocode,StoredList.STANDARD_LIST_ID,false,handler);
      }
    }
 catch (    Exception e) {
      Log.e(Settings.tag,"cgeocaches.LoadDetails.run: " + e.toString());
    }
 finally {
      detailProgress++;
      handler.sendEmptyMessage(UPDATE_PROGRESS);
    }
    yield();
    last=System.currentTimeMillis();
  }
  handler.sendEmptyMessage(FINISHED_LOADING_DETAILS);
}
