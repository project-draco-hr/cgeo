{
  if (!centered && mapState != null) {
    try {
      mapController.setCenter(mapProvider.getGeoPointBase(new Geopoint(mapState[0] / 1.0e6,mapState[1] / 1.0e6)));
      mapController.setZoom(mapState[2]);
    }
 catch (    Exception e) {
    }
    centered=true;
    alreadyCentered=true;
  }
 else   if (!centered && (geocodeCenter != null || searchIntent != null)) {
    try {
      List<Number> vp=null;
      if (geocodeCenter != null) {
        vp=app.getBounds(geocodeCenter);
      }
 else {
        if (searchCenter != null) {
          vp=app.getBounds(searchCenter.getGeocodes());
        }
      }
      if (vp == null || vp.size() < 5) {
        return;
      }
      int cnt=(Integer)vp.get(0);
      if (cnt <= 0) {
        return;
      }
      final Viewport viewport=listToViewport(vp);
      mapController.setCenter(mapProvider.getGeoPointBase(viewport.center));
      if (viewport.getLatitudeSpan() != 0 && viewport.getLongitudeSpan() != 0) {
        mapController.zoomToSpan((int)(viewport.getLatitudeSpan() * 1e6),(int)(viewport.getLongitudeSpan() * 1e6));
      }
    }
 catch (    Exception e) {
    }
    centered=true;
    alreadyCentered=true;
  }
 else   if (!centered && coordsCenter != null) {
    try {
      mapController.setCenter(makeGeoPoint(coordsCenter));
    }
 catch (    Exception e) {
    }
    centered=true;
    alreadyCentered=true;
  }
}
