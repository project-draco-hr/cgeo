{
switch (MapsforgeMapProvider.getMapsforgeSource(Settings.getMapSource())) {
case MapsforgeMapProvider.CYCLEMAP:
    setMapViewMode(MapViewMode.OPENCYCLEMAP_TILE_DOWNLOAD);
  break;
case MapsforgeMapProvider.OFFLINE:
setMapViewMode(MapViewMode.CANVAS_RENDERER);
super.setMapFile(Settings.getMapFile());
if (!Settings.isValidMapFile(Settings.getMapFile())) {
Toast.makeText(getContext(),getContext().getResources().getString(R.string.warn_invalid_mapfile),Toast.LENGTH_LONG).show();
}
break;
default :
setMapViewMode(MapViewMode.MAPNIK_TILE_DOWNLOAD);
}
}
