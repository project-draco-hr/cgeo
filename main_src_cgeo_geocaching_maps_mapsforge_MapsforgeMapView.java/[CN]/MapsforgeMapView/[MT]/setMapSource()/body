{
switch (Settings.getMapSource()) {
case mapsforgeOsmarender:
    setMapViewMode(MapViewMode.OSMARENDER_TILE_DOWNLOAD);
  break;
case mapsforgeCycle:
setMapViewMode(MapViewMode.OPENCYCLEMAP_TILE_DOWNLOAD);
break;
case mapsforgeOffline:
if (MapDatabase.isValidMapFile(Settings.getMapFile())) {
setMapViewMode(MapViewMode.CANVAS_RENDERER);
super.setMapFile(Settings.getMapFile());
}
 else {
setMapViewMode(MapViewMode.MAPNIK_TILE_DOWNLOAD);
}
break;
default :
setMapViewMode(MapViewMode.MAPNIK_TILE_DOWNLOAD);
}
}
