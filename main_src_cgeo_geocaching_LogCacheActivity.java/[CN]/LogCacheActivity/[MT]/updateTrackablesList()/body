{
  final TrackableLog[] trackablesArray=getSortedTrackables().toArray(new TrackableLog[trackables.size()]);
  final ListView inventoryList=ButterKnife.findById(this,R.id.inventory);
  inventoryList.setAdapter(new ArrayAdapter<TrackableLog>(this,R.layout.logcache_trackable_item,trackablesArray){
    @Override public View getView(    final int position,    final View convertView,    final ViewGroup parent){
      View rowView=convertView;
      if (rowView == null) {
        rowView=getLayoutInflater().inflate(R.layout.logcache_trackable_item,parent,false);
      }
      ViewHolder holder=(ViewHolder)rowView.getTag();
      if (holder == null) {
        holder=new ViewHolder(rowView);
      }
      final TrackableLog trackable=getItem(position);
      fillViewHolder(holder,trackable);
      return rowView;
    }
    private void fillViewHolder(    final ViewHolder holder,    final TrackableLog trackable){
      holder.brandView.setImageResource(trackable.brand.getIconResource());
      holder.codeView.setText(trackable.trackCode);
      holder.nameView.setText(trackable.name);
      holder.actionButton.setText(trackable.action.getLabel() + " ???");
      holder.actionButton.setOnClickListener(new View.OnClickListener(){
        @Override public void onClick(        final View view){
          selectTrackableAction(trackable);
        }
      }
);
      holder.infoView.setOnClickListener(new View.OnClickListener(){
        @Override public void onClick(        final View view){
          final Intent trackablesIntent=new Intent(LogCacheActivity.this,TrackableActivity.class);
          final String tbCode=StringUtils.isNotEmpty(trackable.geocode) ? trackable.geocode : trackable.trackCode;
          trackablesIntent.putExtra(Intents.EXTRA_GEOCODE,tbCode);
          trackablesIntent.putExtra(Intents.EXTRA_BRAND,trackable.brand.getId());
          trackablesIntent.putExtra(Intents.EXTRA_TRACKING_CODE,trackable.trackCode);
          startActivity(trackablesIntent);
        }
      }
);
    }
  }
);
  ViewUtils.setListViewHeightBasedOnItems(inventoryList);
  ButterKnife.findById(this,R.id.inventory_box).setVisibility(trackables.isEmpty() ? View.GONE : View.VISIBLE);
  final LinearLayout inventoryChangeAllView=ButterKnife.findById(this,R.id.inventory_changeall);
  inventoryChangeAllView.setVisibility(trackables.size() > 1 ? View.VISIBLE : View.GONE);
  final Button changeButton=ButterKnife.findById(inventoryChangeAllView,R.id.changebutton);
  changeButton.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    final View view){
      selectAllTrackablesAction();
    }
  }
);
}
