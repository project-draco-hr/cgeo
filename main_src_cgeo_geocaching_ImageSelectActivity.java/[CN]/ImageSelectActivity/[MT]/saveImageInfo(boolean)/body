{
  if (saveInfo) {
    String filename=writeScaledImage(imageUri.getPath());
    imageUri=Uri.parse(filename);
    Intent intent=new Intent();
    syncEditTexts();
    intent.putExtra(EXTRAS_CAPTION,imageCaption);
    intent.putExtra(EXTRAS_DESCRIPTION,imageDescription);
    intent.putExtra(EXTRAS_URI_AS_STRING,imageUri.toString());
    intent.putExtra(EXTRAS_SCALE,scaleChoiceIndex);
    setResult(RESULT_OK,intent);
  }
 else {
    setResult(RESULT_CANCELED);
  }
  finish();
}
