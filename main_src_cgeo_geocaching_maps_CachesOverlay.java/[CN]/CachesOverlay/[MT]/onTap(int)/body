{
  try {
    if (items.size() <= index) {
      return false;
    }
    if (waitDialog == null) {
      waitDialog=new ProgressDialog(context);
      waitDialog.setMessage("loading details???");
      waitDialog.setCancelable(false);
    }
    waitDialog.show();
    CachesOverlayItemImpl item=null;
    getOverlayImpl().lock();
    try {
      if (index < items.size()) {
        item=items.get(index);
      }
    }
  finally {
      getOverlayImpl().unlock();
    }
    if (item == null) {
      return false;
    }
    final IWaypoint coordinate=item.getCoord();
    if (StringUtils.isNotBlank(coordinate.getCoordType()) && coordinate.getCoordType().equalsIgnoreCase("cache") && StringUtils.isNotBlank(coordinate.getGeocode())) {
      CGeoMap.markCacheAsDirty(coordinate.getGeocode());
      CachePopup.startActivity(context,coordinate.getGeocode());
    }
 else     if (coordinate.getCoordType() != null && coordinate.getCoordType().equalsIgnoreCase("waypoint") && coordinate.getId() > 0) {
      CGeoMap.markCacheAsDirty(coordinate.getGeocode());
      WaypointPopup.startActivity(context,coordinate.getId(),coordinate.getGeocode());
    }
 else {
      waitDialog.dismiss();
      return false;
    }
    waitDialog.dismiss();
  }
 catch (  Exception e) {
    Log.e("cgMapOverlay.onTap: " + e.toString());
    if (waitDialog != null) {
      waitDialog.dismiss();
    }
  }
  return true;
}
