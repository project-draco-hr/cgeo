{
  assertEquals("?",HumanDistance.getHumanDistance(null));
  final boolean savedMetrics=Settings.isUseMetricUnits();
  try {
    Settings.setUseMetricUnits(true);
    assertMatch("123 km",122.782f);
    assertMatch("123 km",123.456f);
    assertMatch("12.3 km",12.3456f);
    assertMatch("1.23 km",1.23456f);
    assertMatch("123 m",0.123456f);
    Settings.setUseMetricUnits(false);
    assertMatch("76.7 mi",123.456f);
    assertMatch("7.67 mi",12.3456f);
    assertMatch("0.77 mi",1.23456f);
    assertMatch("405 ft",0.123456f);
    assertMatch("40.5 ft",0.0123456f);
  }
  finally {
    Settings.setUseMetricUnits(savedMetrics);
  }
}
