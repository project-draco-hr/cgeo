{
  Set<Tile> tiles=new HashSet<Tile>();
  int zoom=Math.max(Math.min(Tile.calcZoomLon(viewport.bottomLeft,viewport.topRight,tilesOnAxis),Tile.calcZoomLat(viewport.bottomLeft,viewport.topRight,tilesOnAxis)),minZoom);
  Tile tileBottomLeft=new Tile(viewport.bottomLeft,zoom);
  Tile tileTopRight=new Tile(viewport.topRight,zoom);
  int xLow=Math.min(tileBottomLeft.getX(),tileTopRight.getX());
  int xHigh=Math.max(tileBottomLeft.getX(),tileTopRight.getX());
  int yLow=Math.min(tileBottomLeft.getY(),tileTopRight.getY());
  int yHigh=Math.max(tileBottomLeft.getY(),tileTopRight.getY());
  for (int xNum=xLow; xNum <= xHigh; xNum++) {
    for (int yNum=yLow; yNum <= yHigh; yNum++) {
      tiles.add(new Tile(xNum,yNum,zoom));
    }
  }
  return tiles;
}
