{
  if (position > getCount()) {
    Log.w("GPXListAdapter.getView: Attempt to access missing item #" + position);
    return null;
  }
  final File file=getItem(position);
  View view=rowView;
  final ViewHolder holder;
  if (view == null) {
    view=inflater.inflate(R.layout.gpx_item,null);
    holder=new ViewHolder(view);
  }
 else {
    holder=(ViewHolder)view.getTag();
  }
  view.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      (new GPXImporter(activity,activity.getListId(),null)).importGPX(file);
    }
  }
);
  holder.filepath.setText(file.getParent());
  holder.filename.setText(file.getName());
  view.setOnLongClickListener(new View.OnLongClickListener(){
    @Override public boolean onLongClick(    View v){
      AlertDialog.Builder builder=new AlertDialog.Builder(activity);
      builder.setTitle(R.string.gpx_import_delete_title).setMessage(activity.getString(R.string.gpx_import_delete_message,file.getName())).setCancelable(false).setPositiveButton(android.R.string.yes,new DialogInterface.OnClickListener(){
        @Override public void onClick(        DialogInterface dialog,        int id){
          FileUtils.deleteIgnoringFailure(file);
          GPXListAdapter.this.remove(file);
        }
      }
).setNegativeButton(android.R.string.no,new DialogInterface.OnClickListener(){
        @Override public void onClick(        DialogInterface dialog,        int id){
          dialog.cancel();
        }
      }
);
      AlertDialog alert=builder.create();
      alert.show();
      return true;
    }
  }
);
  return view;
}
