{
  final String page=requestHtmlPage(cache.getGeocode(),null,"n","0");
  final String userToken=TextUtils.getMatch(page,GCConstants.PATTERN_USERTOKEN,"");
  if (StringUtils.isEmpty(userToken)) {
    return false;
  }
  final String uri="http://www.geocaching.com/datastore/favorites.svc/update?u=" + userToken + "&f="+ Boolean.toString(add);
  final HttpResponse response=Network.postRequest(uri,null);
  if (response != null && response.getStatusLine().getStatusCode() == 200) {
    Log.i("GCParser.changeFavorite: cache added/removed to/from favorites");
    cache.setFavorite(add);
    cache.setFavoritePoints(cache.getFavoritePoints() + (add ? 1 : -1));
    return true;
  }
  Log.e("GCParser.changeFavorite: cache not added/removed to/from favorites");
  return false;
}
