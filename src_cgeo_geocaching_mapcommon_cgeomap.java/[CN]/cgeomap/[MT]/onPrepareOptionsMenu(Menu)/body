{
  super.onPrepareOptionsMenu(menu);
  MenuItem item;
  try {
    item=menu.findItem(1);
    if (mapView != null && mapView.isSatellite() == false) {
      item.setTitle(res.getString(R.string.map_view_satellite));
    }
 else {
      item.setTitle(res.getString(R.string.map_view_map));
    }
    item=menu.findItem(2);
    if (settings.maptrail == 1) {
      item.setTitle(res.getString(R.string.map_trail_hide));
    }
 else {
      item.setTitle(res.getString(R.string.map_trail_show));
    }
    item=menu.findItem(3);
    if (live == false) {
      item.setEnabled(false);
      item.setTitle(res.getString(R.string.map_live_enable));
    }
 else {
      if (settings.maplive == 1) {
        item.setTitle(res.getString(R.string.map_live_disable));
      }
 else {
        item.setTitle(res.getString(R.string.map_live_enable));
      }
    }
    item=menu.findItem(4);
    if (live && !isLoading() && app.getNotOfflineCount(searchId) > 0 && caches != null && caches.size() > 0) {
      item.setEnabled(true);
    }
 else {
      item.setEnabled(false);
    }
    item=menu.findItem(5);
    if (overlayCaches != null && overlayCaches.getCircles()) {
      item.setTitle(res.getString(R.string.map_circles_hide));
    }
 else {
      item.setTitle(res.getString(R.string.map_circles_show));
    }
  }
 catch (  Exception e) {
    Log.e(cgSettings.tag,"cgeomap.onPrepareOptionsMenu: " + e.toString());
  }
  return true;
}
