{
  HttpResponse response=request(uri,params,xContentType,my,addF);
  String data=getResponseData(response);
  if (checkLogin(data) == false) {
    int loginState=login();
    if (loginState == 1) {
      response=request(uri,params,xContentType,my,addF);
      data=getResponseData(response);
    }
 else {
      Log.i(Settings.tag,"Working as guest.");
    }
  }
  return data;
}
