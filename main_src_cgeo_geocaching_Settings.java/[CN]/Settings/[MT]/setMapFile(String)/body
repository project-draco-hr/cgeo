{
  boolean result=editSharedSettings(new PrefRunnable(){
    @Override public void edit(    Editor edit){
      edit.putString(KEY_MAPFILE,mapFile);
    }
  }
);
  if (mapFile != null) {
    setMapFileDirectory(new File(mapFile).getParent());
  }
  return result;
}
