{
  if (getMapSource().isGoogleMapSource() != newMapSource.isGoogleMapSource()) {
    mapFactory=null;
  }
  editSharedSettings(new PrefRunnable(){
    @Override public void edit(    Editor edit){
      edit.putInt(KEY_MAP_SOURCE,newMapSource.ordinal());
    }
  }
);
}
