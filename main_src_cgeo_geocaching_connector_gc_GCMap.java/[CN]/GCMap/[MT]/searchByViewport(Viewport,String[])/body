{
  int speed=(int)cgeoapplication.getInstance().currentGeo().getSpeed() * 60 * 60 / 1000;
  Strategy strategy=Settings.getLiveMapStrategy();
  if (strategy == Strategy.AUTO) {
    strategy=speed >= 30 ? Strategy.FAST : Strategy.DETAILED;
  }
  SearchResult result=searchByViewport(viewport,tokens,strategy);
  if (Settings.isDebug()) {
    String text=Formatter.SEPARATOR + strategy.getL10n() + Formatter.SEPARATOR;
    if (Settings.isUseMetricUnits()) {
      text+=speed + " km/h";
    }
 else {
      text+=speed / IConversion.MILES_TO_KILOMETER + " mph";
    }
    result.setUrl(result.getUrl() + text);
  }
  return result;
}
