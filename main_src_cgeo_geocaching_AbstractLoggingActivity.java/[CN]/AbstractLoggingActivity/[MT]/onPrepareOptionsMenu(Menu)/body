{
  final boolean signatureAvailable=StringUtils.isNotBlank(Settings.getSignature());
  menu.findItem(R.id.menu_signature).setVisible(signatureAvailable);
  boolean smileyVisible=false;
  final Geocache cache=getLogContext().getCache();
  if (cache != null && ConnectorFactory.getConnector(cache).equals(GCConnector.getInstance())) {
    smileyVisible=true;
  }
  final Trackable trackable=getLogContext().getTrackable();
  if (trackable != null && ConnectorFactory.getConnector(trackable).equals(GCConnector.getInstance())) {
    smileyVisible=true;
  }
  menu.findItem(R.id.menu_smilies).setVisible(smileyVisible);
  return true;
}
