{
  Float distance=null;
  if (wpt.getCoords() != null) {
    final Geopoint currentCoords=cgeoapplication.getInstance().currentGeo().getCoords();
    if (currentCoords != null) {
      distance=currentCoords.distanceTo(wpt);
    }
  }
  String text="--";
  if (distance != null) {
    text=Units.getDistanceFromKilometers(distance);
  }
 else   if (waypointDistanceView != null) {
    text=waypointDistanceView.getText().toString();
  }
  add(R.string.cache_distance,text);
}
