{
  try {
    final Date now=new Date();
    final SimpleDateFormat fileNameDateFormat=new SimpleDateFormat("yyyy-MM-dd_hh-mm",Locale.US);
    File file=FileUtils.getUniqueNamedFile(Environment.getExternalStorageDirectory().getPath() + File.separatorChar + "cgeo_dump_"+ fileNameDateFormat.format(now)+ ".hprof");
    android.os.Debug.dumpHprofData(file.getPath());
    Toast.makeText(CgeoApplication.getInstance().getApplicationContext(),context.getString(R.string.init_memory_dumped,file.getAbsolutePath()),Toast.LENGTH_LONG).show();
    ShareUtils.share(context,file,R.string.init_memory_dump);
  }
 catch (  IOException e) {
    Log.e("createMemoryDump",e);
  }
}
