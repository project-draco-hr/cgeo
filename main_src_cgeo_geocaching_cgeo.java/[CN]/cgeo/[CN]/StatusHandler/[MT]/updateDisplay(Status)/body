{
  final ViewGroup status=(ViewGroup)findViewById(R.id.status);
  final ImageView statusIcon=(ImageView)findViewById(R.id.status_icon);
  final TextView statusMessage=(TextView)findViewById(R.id.status_message);
  if (data == null) {
    status.setVisibility(View.GONE);
    return;
  }
  if (data.icon != null) {
    final int iconId=res.getIdentifier(data.icon,"drawable",getPackageName());
    if (iconId != 0) {
      statusIcon.setImageResource(iconId);
      statusIcon.setVisibility(View.VISIBLE);
    }
 else {
      Log.e("StatusHandler: could not find icon corresponding to @drawable/" + data.icon);
      statusIcon.setVisibility(View.GONE);
    }
  }
 else {
    statusIcon.setVisibility(View.GONE);
  }
  String message=data.message;
  if (data.messageId != null) {
    final int messageId=res.getIdentifier(data.messageId,"string",getPackageName());
    if (messageId != 0) {
      message=res.getString(messageId);
    }
  }
  statusMessage.setText(message);
  status.setVisibility(View.VISIBLE);
  if (data.url != null) {
    status.setOnClickListener(new OnClickListener(){
      @Override public void onClick(      final View v){
        startActivity(new Intent(Intent.ACTION_VIEW,Uri.parse(data.url)));
      }
    }
);
  }
 else {
    status.setClickable(false);
  }
}
