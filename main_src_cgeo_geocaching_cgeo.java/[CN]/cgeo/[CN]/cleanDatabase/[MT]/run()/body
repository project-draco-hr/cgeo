{
  if (app == null) {
    return;
  }
  if (cleanupRunning) {
    return;
  }
  boolean more=false;
  if (version != Settings.getVersion()) {
    Log.i("Initializing hard cleanup - version changed from " + Settings.getVersion() + " to "+ version+ ".");
    more=true;
  }
  cleanupRunning=true;
  app.cleanDatabase(more);
  cleanupRunning=false;
  if (version > 0) {
    Settings.setVersion(version);
  }
}
