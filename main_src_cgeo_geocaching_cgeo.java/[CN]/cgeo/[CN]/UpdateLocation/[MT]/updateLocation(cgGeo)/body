{
  if (geo == null) {
    return;
  }
  try {
    if (geo.coordsNow != null) {
      if (!nearestView.isClickable()) {
        nearestView.setFocusable(true);
        nearestView.setClickable(true);
        nearestView.setOnClickListener(new OnClickListener(){
          public void onClick(          View v){
            cgeoFindNearest(v);
          }
        }
);
        nearestView.setBackgroundResource(R.drawable.main_nearby);
      }
      if (!gpsEnabled) {
        satellitesHandler.noGps();
      }
 else {
        satellitesHandler.satellites(geo.satellitesFixed,geo.satellitesVisible);
      }
      navType.setText(res.getString(geo.locationProvider.resourceId));
      if (geo.accuracyNow >= 0) {
        int speed=Math.round(geo.speedNow) * 60 * 60 / 1000;
        if (Settings.isUseMetricUnits()) {
          navAccuracy.setText("??" + Math.round(geo.accuracyNow) + " m"+ Formatter.SEPARATOR+ speed+ " km/h");
        }
 else {
          navAccuracy.setText("??" + Math.round(geo.accuracyNow * IConversion.METERS_TO_FEET) + " ft"+ Formatter.SEPARATOR+ speed / IConversion.MILES_TO_KILOMETER + " mph");
        }
      }
 else {
        navAccuracy.setText(null);
      }
      if (Settings.isShowAddress()) {
        if (addCoords == null) {
          navLocation.setText(res.getString(R.string.loc_no_addr));
        }
        if (addCoords == null || (geo.coordsNow.distanceTo(addCoords) > 0.5 && !addressObtaining)) {
          (new ObtainAddressThread()).start();
        }
      }
 else {
        if (geo.altitudeNow != null) {
          final String humanAlt=HumanDistance.getHumanDistance(geo.altitudeNow.floatValue() / 1000);
          navLocation.setText(geo.coordsNow + " | " + humanAlt);
        }
 else {
          navLocation.setText(geo.coordsNow.toString());
        }
      }
    }
 else {
      if (nearestView.isClickable()) {
        nearestView.setFocusable(false);
        nearestView.setClickable(false);
        nearestView.setOnClickListener(null);
        nearestView.setBackgroundResource(R.drawable.main_nearby_disabled);
      }
      navType.setText(null);
      navAccuracy.setText(null);
      navLocation.setText(res.getString(R.string.loc_trying));
    }
  }
 catch (  Exception e) {
    Log.w(Settings.tag,"Failed to update location.");
  }
}
