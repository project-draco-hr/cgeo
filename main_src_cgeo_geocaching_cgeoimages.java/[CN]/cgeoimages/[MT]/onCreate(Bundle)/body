{
  super.onCreate(savedInstanceState);
  Bundle extras=getIntent().getExtras();
  int img_type=UNKNOWN_TYPE;
  if (extras != null) {
    geocode=extras.getString("geocode");
    img_type=extras.getInt("type",0);
  }
  if (extras == null || geocode == null) {
    showToast("Sorry, c:geo forgot for what cache you want to load spoiler images.");
    finish();
    return;
  }
  if (img_type != SPOILER_IMAGES && img_type != LOG_IMAGES) {
    showToast("Sorry, can't load unknown image type.");
    finish();
    return;
  }
  setTheme();
  setContentView(R.layout.spoilers);
  setTitle(res.getString(img_type == SPOILER_IMAGES ? R.string.cache_spoiler_images_title : R.string.cache_log_images_title));
  inflater=getLayoutInflater();
  if (imagesView == null) {
    imagesView=(LinearLayout)findViewById(R.id.spoiler_list);
  }
  final ArrayList<cgImage> images=extras.getParcelableArrayList("images");
  if (CollectionUtils.isEmpty(images)) {
    showToast(res.getString(R.string.warn_load_images));
    finish();
    return;
  }
  final int message=img_type == SPOILER_IMAGES ? R.string.cache_spoiler_images_loading : R.string.cache_log_images_loading;
  final boolean offline=app.isOffline(geocode,null) && (img_type == SPOILER_IMAGES || Settings.isStoreLogImages());
  final boolean save=img_type == SPOILER_IMAGES ? true : Settings.isStoreLogImages();
  loadImages(images,message,save,offline);
}
